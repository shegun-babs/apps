{"version":3,"sources":["jquery.noty.packaged.js","noty.js","typescript.js","bootstrap-datepicker.min.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACj6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACl5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["!function(root, factory) {\n\t if (typeof define === 'function' && define.amd) {\n\t\t define(['jquery'], factory);\n\t } else if (typeof exports === 'object') {\n\t\t module.exports = factory(require('jquery'));\n\t } else {\n\t\t factory(root.jQuery);\n\t }\n}(this, function($) {\n\n/*!\n @package noty - jQuery Notification Plugin\n @version version: 2.3.8\n @contributors https://github.com/needim/noty/graphs/contributors\n\n @documentation Examples and Documentation - http://needim.github.com/noty/\n\n @license Licensed under the MIT licenses: http://www.opensource.org/licenses/mit-license.php\n */\n\n    if(typeof Object.create !== 'function') {\n        Object.create = function(o) {\n            function F() {\n            }\n\n            F.prototype = o;\n            return new F();\n        };\n    }\n\n    var NotyObject = {\n\n        init: function(options) {\n\n            // Mix in the passed in options with the default options\n            this.options = $.extend({}, $.noty.defaults, options);\n\n            this.options.layout = (this.options.custom) ? $.noty.layouts['inline'] : $.noty.layouts[this.options.layout];\n\n            if($.noty.themes[this.options.theme])\n                this.options.theme = $.noty.themes[this.options.theme];\n            else\n                this.options.themeClassName = this.options.theme;\n\n            this.options = $.extend({}, this.options, this.options.layout.options);\n            this.options.id = 'noty_' + (new Date().getTime() * Math.floor(Math.random() * 1000000));\n\n            // Build the noty dom initial structure\n            this._build();\n\n            // return this so we can chain/use the bridge with less code.\n            return this;\n        }, // end init\n\n        _build: function() {\n\n            // Generating noty bar\n            var $bar = $('<div class=\"noty_bar noty_type_' + this.options.type + '\"></div>').attr('id', this.options.id);\n            $bar.append(this.options.template).find('.noty_text').html(this.options.text);\n\n            this.$bar = (this.options.layout.parent.object !== null) ? $(this.options.layout.parent.object).css(this.options.layout.parent.css).append($bar) : $bar;\n\n            if(this.options.themeClassName)\n                this.$bar.addClass(this.options.themeClassName).addClass('noty_container_type_' + this.options.type);\n\n            // Set buttons if available\n            if(this.options.buttons) {\n\n                // If we have button disable closeWith & timeout options\n                this.options.closeWith = [];\n                this.options.timeout = false;\n\n                var $buttons = $('<div/>').addClass('noty_buttons');\n\n                (this.options.layout.parent.object !== null) ? this.$bar.find('.noty_bar').append($buttons) : this.$bar.append($buttons);\n\n                var self = this;\n\n                $.each(this.options.buttons, function(i, button) {\n                    var $button = $('<button/>').addClass((button.addClass) ? button.addClass : 'gray').html(button.text).attr('id', button.id ? button.id : 'button-' + i)\n                        .attr('title', button.title)\n                        .appendTo(self.$bar.find('.noty_buttons'))\n                        .on('click', function(event) {\n                            if($.isFunction(button.onClick)) {\n                                button.onClick.call($button, self, event);\n                            }\n                        });\n                });\n            }\n\n            // For easy access\n            this.$message = this.$bar.find('.noty_message');\n            this.$closeButton = this.$bar.find('.noty_close');\n            this.$buttons = this.$bar.find('.noty_buttons');\n\n            $.noty.store[this.options.id] = this; // store noty for api\n\n        }, // end _build\n\n        show: function() {\n\n            var self = this;\n\n            (self.options.custom) ? self.options.custom.find(self.options.layout.container.selector).append(self.$bar) : $(self.options.layout.container.selector).append(self.$bar);\n\n            if(self.options.theme && self.options.theme.style)\n                self.options.theme.style.apply(self);\n\n            ($.type(self.options.layout.css) === 'function') ? this.options.layout.css.apply(self.$bar) : self.$bar.css(this.options.layout.css || {});\n\n            self.$bar.addClass(self.options.layout.addClass);\n\n            self.options.layout.container.style.apply($(self.options.layout.container.selector), [self.options.within]);\n\n            self.showing = true;\n\n            if(self.options.theme && self.options.theme.style)\n                self.options.theme.callback.onShow.apply(this);\n\n            if($.inArray('click', self.options.closeWith) > -1)\n                self.$bar.css('cursor', 'pointer').one('click', function(evt) {\n                    self.stopPropagation(evt);\n                    if(self.options.callback.onCloseClick) {\n                        self.options.callback.onCloseClick.apply(self);\n                    }\n                    self.close();\n                });\n\n            if($.inArray('hover', self.options.closeWith) > -1)\n                self.$bar.one('mouseenter', function() {\n                    self.close();\n                });\n\n            if($.inArray('button', self.options.closeWith) > -1)\n                self.$closeButton.one('click', function(evt) {\n                    self.stopPropagation(evt);\n                    self.close();\n                });\n\n            if($.inArray('button', self.options.closeWith) == -1)\n                self.$closeButton.remove();\n\n            if(self.options.callback.onShow)\n                self.options.callback.onShow.apply(self);\n\n            if (typeof self.options.animation.open == 'string') {\n                self.$bar.css('height', self.$bar.innerHeight());\n                self.$bar.on('click',function(e){\n                    self.wasClicked = true;\n                });\n                self.$bar.show().addClass(self.options.animation.open).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {\n                    if(self.options.callback.afterShow) self.options.callback.afterShow.apply(self);\n                    self.showing = false;\n                    self.shown = true;\n                    if(self.hasOwnProperty('wasClicked')){\n                        self.$bar.off('click',function(e){\n                            self.wasClicked = true;\n                        });\n                        self.close();\n                    }\n                });\n\n            } else {\n                self.$bar.animate(\n                    self.options.animation.open,\n                    self.options.animation.speed,\n                    self.options.animation.easing,\n                    function() {\n                        if(self.options.callback.afterShow) self.options.callback.afterShow.apply(self);\n                        self.showing = false;\n                        self.shown = true;\n                    });\n            }\n\n            // If noty is have a timeout option\n            if(self.options.timeout)\n                self.$bar.delay(self.options.timeout).promise().done(function() {\n                    self.close();\n                });\n\n            return this;\n\n        }, // end show\n\n        close: function() {\n\n            if(this.closed) return;\n            if(this.$bar && this.$bar.hasClass('i-am-closing-now')) return;\n\n            var self = this;\n\n            if(this.showing) {\n                self.$bar.queue(\n                    function() {\n                        self.close.apply(self);\n                    }\n                );\n                return;\n            }\n\n            if(!this.shown && !this.showing) { // If we are still waiting in the queue just delete from queue\n                var queue = [];\n                $.each($.noty.queue, function(i, n) {\n                    if(n.options.id != self.options.id) {\n                        queue.push(n);\n                    }\n                });\n                $.noty.queue = queue;\n                return;\n            }\n\n            self.$bar.addClass('i-am-closing-now');\n\n            if(self.options.callback.onClose) {\n                self.options.callback.onClose.apply(self);\n            }\n\n            if (typeof self.options.animation.close == 'string') {\n                self.$bar.addClass(self.options.animation.close).one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {\n                    if(self.options.callback.afterClose) self.options.callback.afterClose.apply(self);\n                    self.closeCleanUp();\n                });\n            } else {\n                self.$bar.clearQueue().stop().animate(\n                    self.options.animation.close,\n                    self.options.animation.speed,\n                    self.options.animation.easing,\n                    function() {\n                        if(self.options.callback.afterClose) self.options.callback.afterClose.apply(self);\n                    })\n                    .promise().done(function() {\n                        self.closeCleanUp();\n                    });\n            }\n\n        }, // end close\n\n        closeCleanUp: function() {\n\n            var self = this;\n\n            // Modal Cleaning\n            if(self.options.modal) {\n                $.notyRenderer.setModalCount(-1);\n                if($.notyRenderer.getModalCount() == 0) $('.noty_modal').fadeOut(self.options.animation.fadeSpeed, function() {\n                    $(this).remove();\n                });\n            }\n\n            // Layout Cleaning\n            $.notyRenderer.setLayoutCountFor(self, -1);\n            if($.notyRenderer.getLayoutCountFor(self) == 0) $(self.options.layout.container.selector).remove();\n\n            // Make sure self.$bar has not been removed before attempting to remove it\n            if(typeof self.$bar !== 'undefined' && self.$bar !== null) {\n\n                if (typeof self.options.animation.close == 'string') {\n                    self.$bar.css('transition', 'all 100ms ease').css('border', 0).css('margin', 0).height(0);\n                    self.$bar.one('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', function() {\n                        self.$bar.remove();\n                        self.$bar = null;\n                        self.closed = true;\n\n                        if(self.options.theme.callback && self.options.theme.callback.onClose) {\n                            self.options.theme.callback.onClose.apply(self);\n                        }\n                    });\n                } else {\n                    self.$bar.remove();\n                    self.$bar = null;\n                    self.closed = true;\n                }\n            }\n\n            delete $.noty.store[self.options.id]; // deleting noty from store\n\n            if(self.options.theme.callback && self.options.theme.callback.onClose) {\n                self.options.theme.callback.onClose.apply(self);\n            }\n\n            if(!self.options.dismissQueue) {\n                // Queue render\n                $.noty.ontap = true;\n\n                $.notyRenderer.render();\n            }\n\n            if(self.options.maxVisible > 0 && self.options.dismissQueue) {\n                $.notyRenderer.render();\n            }\n\n        }, // end close clean up\n\n        setText: function(text) {\n            if(!this.closed) {\n                this.options.text = text;\n                this.$bar.find('.noty_text').html(text);\n            }\n            return this;\n        },\n\n        setType: function(type) {\n            if(!this.closed) {\n                this.options.type = type;\n                this.options.theme.style.apply(this);\n                this.options.theme.callback.onShow.apply(this);\n            }\n            return this;\n        },\n\n        setTimeout: function(time) {\n            if(!this.closed) {\n                var self = this;\n                this.options.timeout = time;\n                self.$bar.delay(self.options.timeout).promise().done(function() {\n                    self.close();\n                });\n            }\n            return this;\n        },\n\n        stopPropagation: function(evt) {\n            evt = evt || window.event;\n            if(typeof evt.stopPropagation !== \"undefined\") {\n                evt.stopPropagation();\n            }\n            else {\n                evt.cancelBubble = true;\n            }\n        },\n\n        closed : false,\n        showing: false,\n        shown  : false\n\n    }; // end NotyObject\n\n    $.notyRenderer = {};\n\n    $.notyRenderer.init = function(options) {\n\n        // Renderer creates a new noty\n        var notification = Object.create(NotyObject).init(options);\n\n        if(notification.options.killer)\n            $.noty.closeAll();\n\n        (notification.options.force) ? $.noty.queue.unshift(notification) : $.noty.queue.push(notification);\n\n        $.notyRenderer.render();\n\n        return ($.noty.returns == 'object') ? notification : notification.options.id;\n    };\n\n    $.notyRenderer.render = function() {\n\n        var instance = $.noty.queue[0];\n\n        if($.type(instance) === 'object') {\n            if(instance.options.dismissQueue) {\n                if(instance.options.maxVisible > 0) {\n                    if($(instance.options.layout.container.selector + ' > li').length < instance.options.maxVisible) {\n                        $.notyRenderer.show($.noty.queue.shift());\n                    }\n                    else {\n\n                    }\n                }\n                else {\n                    $.notyRenderer.show($.noty.queue.shift());\n                }\n            }\n            else {\n                if($.noty.ontap) {\n                    $.notyRenderer.show($.noty.queue.shift());\n                    $.noty.ontap = false;\n                }\n            }\n        }\n        else {\n            $.noty.ontap = true; // Queue is over\n        }\n\n    };\n\n    $.notyRenderer.show = function(notification) {\n\n        if(notification.options.modal) {\n            $.notyRenderer.createModalFor(notification);\n            $.notyRenderer.setModalCount(+1);\n        }\n\n        // Where is the container?\n        if(notification.options.custom) {\n            if(notification.options.custom.find(notification.options.layout.container.selector).length == 0) {\n                notification.options.custom.append($(notification.options.layout.container.object).addClass('i-am-new'));\n            }\n            else {\n                notification.options.custom.find(notification.options.layout.container.selector).removeClass('i-am-new');\n            }\n        }\n        else {\n            if($(notification.options.layout.container.selector).length == 0) {\n                $('body').append($(notification.options.layout.container.object).addClass('i-am-new'));\n            }\n            else {\n                $(notification.options.layout.container.selector).removeClass('i-am-new');\n            }\n        }\n\n        $.notyRenderer.setLayoutCountFor(notification, +1);\n\n        notification.show();\n    };\n\n    $.notyRenderer.createModalFor = function(notification) {\n        if($('.noty_modal').length == 0) {\n            var modal = $('<div/>').addClass('noty_modal').addClass(notification.options.theme).data('noty_modal_count', 0);\n\n            if(notification.options.theme.modal && notification.options.theme.modal.css)\n                modal.css(notification.options.theme.modal.css);\n\n            modal.prependTo($('body')).fadeIn(notification.options.animation.fadeSpeed);\n\n            if($.inArray('backdrop', notification.options.closeWith) > -1)\n                modal.on('click', function(e) {\n                    $.noty.closeAll();\n                });\n        }\n    };\n\n    $.notyRenderer.getLayoutCountFor = function(notification) {\n        return $(notification.options.layout.container.selector).data('noty_layout_count') || 0;\n    };\n\n    $.notyRenderer.setLayoutCountFor = function(notification, arg) {\n        return $(notification.options.layout.container.selector).data('noty_layout_count', $.notyRenderer.getLayoutCountFor(notification) + arg);\n    };\n\n    $.notyRenderer.getModalCount = function() {\n        return $('.noty_modal').data('noty_modal_count') || 0;\n    };\n\n    $.notyRenderer.setModalCount = function(arg) {\n        return $('.noty_modal').data('noty_modal_count', $.notyRenderer.getModalCount() + arg);\n    };\n\n    // This is for custom container\n    $.fn.noty = function(options) {\n        options.custom = $(this);\n        return $.notyRenderer.init(options);\n    };\n\n    $.noty = {};\n    $.noty.queue = [];\n    $.noty.ontap = true;\n    $.noty.layouts = {};\n    $.noty.themes = {};\n    $.noty.returns = 'object';\n    $.noty.store = {};\n\n    $.noty.get = function(id) {\n        return $.noty.store.hasOwnProperty(id) ? $.noty.store[id] : false;\n    };\n\n    $.noty.close = function(id) {\n        return $.noty.get(id) ? $.noty.get(id).close() : false;\n    };\n\n    $.noty.setText = function(id, text) {\n        return $.noty.get(id) ? $.noty.get(id).setText(text) : false;\n    };\n\n    $.noty.setType = function(id, type) {\n        return $.noty.get(id) ? $.noty.get(id).setType(type) : false;\n    };\n\n    $.noty.clearQueue = function() {\n        $.noty.queue = [];\n    };\n\n    $.noty.closeAll = function() {\n        $.noty.clearQueue();\n        $.each($.noty.store, function(id, noty) {\n            noty.close();\n        });\n    };\n\n    var windowAlert = window.alert;\n\n    $.noty.consumeAlert = function(options) {\n        window.alert = function(text) {\n            if(options)\n                options.text = text;\n            else\n                options = {text: text};\n\n            $.notyRenderer.init(options);\n        };\n    };\n\n    $.noty.stopConsumeAlert = function() {\n        window.alert = windowAlert;\n    };\n\n    $.noty.defaults = {\n        layout      : 'top',\n        theme       : 'defaultTheme',\n        type        : 'alert',\n        text        : '',\n        dismissQueue: true,\n        template    : '<div class=\"noty_message\"><span class=\"noty_text\"></span><div class=\"noty_close\"></div></div>',\n        animation   : {\n            open  : {height: 'toggle'},\n            close : {height: 'toggle'},\n            easing: 'swing',\n            speed : 500,\n            fadeSpeed: 'fast',\n        },\n        timeout     : false,\n        force       : false,\n        modal       : false,\n        maxVisible  : 5,\n        killer      : false,\n        closeWith   : ['click'],\n        callback    : {\n            onShow      : function() {\n            },\n            afterShow   : function() {\n            },\n            onClose     : function() {\n            },\n            afterClose  : function() {\n            },\n            onCloseClick: function() {\n            }\n        },\n        buttons     : false\n    };\n\n    $(window).on('resize', function() {\n        $.each($.noty.layouts, function(index, layout) {\n            layout.container.style.apply($(layout.container.selector));\n        });\n    });\n\n    // Helpers\n    window.noty = function noty(options) {\n        return $.notyRenderer.init(options);\n    };\n\n$.noty.layouts.bottom = {\n    name     : 'bottom',\n    options  : {},\n    container: {\n        object  : '<ul id=\"noty_bottom_layout_container\" />',\n        selector: 'ul#noty_bottom_layout_container',\n        style   : function() {\n            $(this).css({\n                bottom       : 0,\n                left         : '5%',\n                position     : 'fixed',\n                width        : '90%',\n                height       : 'auto',\n                margin       : 0,\n                padding      : 0,\n                listStyleType: 'none',\n                zIndex       : 9999999\n            });\n        }\n    },\n    parent   : {\n        object  : '<li />',\n        selector: 'li',\n        css     : {}\n    },\n    css      : {\n        display: 'none'\n    },\n    addClass : ''\n};\n\n$.noty.layouts.bottomCenter = {\n    name     : 'bottomCenter',\n    options  : { // overrides options\n\n    },\n    container: {\n        object  : '<ul id=\"noty_bottomCenter_layout_container\" />',\n        selector: 'ul#noty_bottomCenter_layout_container',\n        style   : function() {\n            $(this).css({\n                bottom       : 20,\n                left         : 0,\n                position     : 'fixed',\n                width        : '310px',\n                height       : 'auto',\n                margin       : 0,\n                padding      : 0,\n                listStyleType: 'none',\n                zIndex       : 10000000\n            });\n\n            $(this).css({\n                left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px'\n            });\n        }\n    },\n    parent   : {\n        object  : '<li />',\n        selector: 'li',\n        css     : {}\n    },\n    css      : {\n        display: 'none',\n        width  : '310px'\n    },\n    addClass : ''\n};\n\n\n$.noty.layouts.bottomLeft = {\n    name     : 'bottomLeft',\n    options  : { // overrides options\n\n    },\n    container: {\n        object  : '<ul id=\"noty_bottomLeft_layout_container\" />',\n        selector: 'ul#noty_bottomLeft_layout_container',\n        style   : function() {\n            $(this).css({\n                bottom       : 20,\n                left         : 20,\n                position     : 'fixed',\n                width        : '310px',\n                height       : 'auto',\n                margin       : 0,\n                padding      : 0,\n                listStyleType: 'none',\n                zIndex       : 10000000\n            });\n\n            if(window.innerWidth < 600) {\n                $(this).css({\n                    left: 5\n                });\n            }\n        }\n    },\n    parent   : {\n        object  : '<li />',\n        selector: 'li',\n        css     : {}\n    },\n    css      : {\n        display: 'none',\n        width  : '310px'\n    },\n    addClass : ''\n};\n$.noty.layouts.bottomRight = {\n    name     : 'bottomRight',\n    options  : { // overrides options\n\n    },\n    container: {\n        object  : '<ul id=\"noty_bottomRight_layout_container\" />',\n        selector: 'ul#noty_bottomRight_layout_container',\n        style   : function() {\n            $(this).css({\n                bottom       : 20,\n                right        : 20,\n                position     : 'fixed',\n                width        : '310px',\n                height       : 'auto',\n                margin       : 0,\n                padding      : 0,\n                listStyleType: 'none',\n                zIndex       : 10000000\n            });\n\n            if(window.innerWidth < 600) {\n                $(this).css({\n                    right: 5\n                });\n            }\n        }\n    },\n    parent   : {\n        object  : '<li />',\n        selector: 'li',\n        css     : {}\n    },\n    css      : {\n        display: 'none',\n        width  : '310px'\n    },\n    addClass : ''\n};\n$.noty.layouts.center = {\n    name     : 'center',\n    options  : { // overrides options\n\n    },\n    container: {\n        object  : '<ul id=\"noty_center_layout_container\" />',\n        selector: 'ul#noty_center_layout_container',\n        style   : function() {\n            $(this).css({\n                position     : 'fixed',\n                width        : '310px',\n                height       : 'auto',\n                margin       : 0,\n                padding      : 0,\n                listStyleType: 'none',\n                zIndex       : 10000000\n            });\n\n            // getting hidden height\n            var dupe = $(this).clone().css({visibility: \"hidden\", display: \"block\", position: \"absolute\", top: 0, left: 0}).attr('id', 'dupe');\n            $(\"body\").append(dupe);\n            dupe.find('.i-am-closing-now').remove();\n            dupe.find('li').css('display', 'block');\n            var actual_height = dupe.height();\n            dupe.remove();\n\n            if($(this).hasClass('i-am-new')) {\n                $(this).css({\n                    left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px',\n                    top : ($(window).height() - actual_height) / 2 + 'px'\n                });\n            }\n            else {\n                $(this).animate({\n                    left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px',\n                    top : ($(window).height() - actual_height) / 2 + 'px'\n                }, 500);\n            }\n\n        }\n    },\n    parent   : {\n        object  : '<li />',\n        selector: 'li',\n        css     : {}\n    },\n    css      : {\n        display: 'none',\n        width  : '310px'\n    },\n    addClass : ''\n};\n$.noty.layouts.centerLeft = {\n    name     : 'centerLeft',\n    options  : { // overrides options\n\n    },\n    container: {\n        object  : '<ul id=\"noty_centerLeft_layout_container\" />',\n        selector: 'ul#noty_centerLeft_layout_container',\n        style   : function() {\n            $(this).css({\n                left         : 20,\n                position     : 'fixed',\n                width        : '310px',\n                height       : 'auto',\n                margin       : 0,\n                padding      : 0,\n                listStyleType: 'none',\n                zIndex       : 10000000\n            });\n\n            // getting hidden height\n            var dupe = $(this).clone().css({visibility: \"hidden\", display: \"block\", position: \"absolute\", top: 0, left: 0}).attr('id', 'dupe');\n            $(\"body\").append(dupe);\n            dupe.find('.i-am-closing-now').remove();\n            dupe.find('li').css('display', 'block');\n            var actual_height = dupe.height();\n            dupe.remove();\n\n            if($(this).hasClass('i-am-new')) {\n                $(this).css({\n                    top: ($(window).height() - actual_height) / 2 + 'px'\n                });\n            }\n            else {\n                $(this).animate({\n                    top: ($(window).height() - actual_height) / 2 + 'px'\n                }, 500);\n            }\n\n            if(window.innerWidth < 600) {\n                $(this).css({\n                    left: 5\n                });\n            }\n\n        }\n    },\n    parent   : {\n        object  : '<li />',\n        selector: 'li',\n        css     : {}\n    },\n    css      : {\n        display: 'none',\n        width  : '310px'\n    },\n    addClass : ''\n};\n\n$.noty.layouts.centerRight = {\n    name     : 'centerRight',\n    options  : { // overrides options\n\n    },\n    container: {\n        object  : '<ul id=\"noty_centerRight_layout_container\" />',\n        selector: 'ul#noty_centerRight_layout_container',\n        style   : function() {\n            $(this).css({\n                right        : 20,\n                position     : 'fixed',\n                width        : '310px',\n                height       : 'auto',\n                margin       : 0,\n                padding      : 0,\n                listStyleType: 'none',\n                zIndex       : 10000000\n            });\n\n            // getting hidden height\n            var dupe = $(this).clone().css({visibility: \"hidden\", display: \"block\", position: \"absolute\", top: 0, left: 0}).attr('id', 'dupe');\n            $(\"body\").append(dupe);\n            dupe.find('.i-am-closing-now').remove();\n            dupe.find('li').css('display', 'block');\n            var actual_height = dupe.height();\n            dupe.remove();\n\n            if($(this).hasClass('i-am-new')) {\n                $(this).css({\n                    top: ($(window).height() - actual_height) / 2 + 'px'\n                });\n            }\n            else {\n                $(this).animate({\n                    top: ($(window).height() - actual_height) / 2 + 'px'\n                }, 500);\n            }\n\n            if(window.innerWidth < 600) {\n                $(this).css({\n                    right: 5\n                });\n            }\n\n        }\n    },\n    parent   : {\n        object  : '<li />',\n        selector: 'li',\n        css     : {}\n    },\n    css      : {\n        display: 'none',\n        width  : '310px'\n    },\n    addClass : ''\n};\n$.noty.layouts.inline = {\n    name     : 'inline',\n    options  : {},\n    container: {\n        object  : '<ul class=\"noty_inline_layout_container\" />',\n        selector: 'ul.noty_inline_layout_container',\n        style   : function() {\n            $(this).css({\n                width        : '100%',\n                height       : 'auto',\n                margin       : 0,\n                padding      : 0,\n                listStyleType: 'none',\n                zIndex       : 9999999\n            });\n        }\n    },\n    parent   : {\n        object  : '<li />',\n        selector: 'li',\n        css     : {}\n    },\n    css      : {\n        display: 'none'\n    },\n    addClass : ''\n};\n$.noty.layouts.top = {\n    name     : 'top',\n    options  : {},\n    container: {\n        object  : '<ul id=\"noty_top_layout_container\" />',\n        selector: 'ul#noty_top_layout_container',\n        style   : function() {\n            $(this).css({\n                top          : 0,\n                left         : '5%',\n                position     : 'fixed',\n                width        : '90%',\n                height       : 'auto',\n                margin       : 0,\n                padding      : 0,\n                listStyleType: 'none',\n                zIndex       : 9999999\n            });\n        }\n    },\n    parent   : {\n        object  : '<li />',\n        selector: 'li',\n        css     : {}\n    },\n    css      : {\n        display: 'none'\n    },\n    addClass : ''\n};\n$.noty.layouts.topCenter = {\n    name     : 'topCenter',\n    options  : { // overrides options\n\n    },\n    container: {\n        object  : '<ul id=\"noty_topCenter_layout_container\" />',\n        selector: 'ul#noty_topCenter_layout_container',\n        style   : function() {\n            $(this).css({\n                top          : 20,\n                left         : 0,\n                position     : 'fixed',\n                width        : '310px',\n                height       : 'auto',\n                margin       : 0,\n                padding      : 0,\n                listStyleType: 'none',\n                zIndex       : 10000000\n            });\n\n            $(this).css({\n                left: ($(window).width() - $(this).outerWidth(false)) / 2 + 'px'\n            });\n        }\n    },\n    parent   : {\n        object  : '<li />',\n        selector: 'li',\n        css     : {}\n    },\n    css      : {\n        display: 'none',\n        width  : '310px'\n    },\n    addClass : ''\n};\n\n$.noty.layouts.topLeft = {\n    name     : 'topLeft',\n    options  : { // overrides options\n\n    },\n    container: {\n        object  : '<ul id=\"noty_topLeft_layout_container\" />',\n        selector: 'ul#noty_topLeft_layout_container',\n        style   : function() {\n            $(this).css({\n                top          : 20,\n                left         : 20,\n                position     : 'fixed',\n                width        : '310px',\n                height       : 'auto',\n                margin       : 0,\n                padding      : 0,\n                listStyleType: 'none',\n                zIndex       : 10000000\n            });\n\n            if(window.innerWidth < 600) {\n                $(this).css({\n                    left: 5\n                });\n            }\n        }\n    },\n    parent   : {\n        object  : '<li />',\n        selector: 'li',\n        css     : {}\n    },\n    css      : {\n        display: 'none',\n        width  : '310px'\n    },\n    addClass : ''\n};\n$.noty.layouts.topRight = {\n    name     : 'topRight',\n    options  : { // overrides options\n\n    },\n    container: {\n        object  : '<ul id=\"noty_topRight_layout_container\" />',\n        selector: 'ul#noty_topRight_layout_container',\n        style   : function() {\n            $(this).css({\n                top          : 20,\n                right        : 20,\n                position     : 'fixed',\n                width        : '310px',\n                height       : 'auto',\n                margin       : 0,\n                padding      : 0,\n                listStyleType: 'none',\n                zIndex       : 10000000\n            });\n\n            if(window.innerWidth < 600) {\n                $(this).css({\n                    right: 5\n                });\n            }\n        }\n    },\n    parent   : {\n        object  : '<li />',\n        selector: 'li',\n        css     : {}\n    },\n    css      : {\n        display: 'none',\n        width  : '310px'\n    },\n    addClass : ''\n};\n$.noty.themes.bootstrapTheme = {\n    name: 'bootstrapTheme',\n    modal: {\n        css: {\n            position: 'fixed',\n            width: '100%',\n            height: '100%',\n            backgroundColor: '#000',\n            zIndex: 10000,\n            opacity: 0.6,\n            display: 'none',\n            left: 0,\n            top: 0\n        }\n    },\n    style: function() {\n\n        var containerSelector = this.options.layout.container.selector;\n        $(containerSelector).addClass('list-group');\n\n        this.$closeButton.append('<span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span>');\n        this.$closeButton.addClass('close');\n\n        this.$bar.addClass( \"list-group-item\" ).css('padding', '0px');\n\n        switch (this.options.type) {\n            case 'alert': case 'notification':\n                this.$bar.addClass( \"list-group-item-info\" );\n                break;\n            case 'warning':\n                this.$bar.addClass( \"list-group-item-warning\" );\n                break;\n            case 'error':\n                this.$bar.addClass( \"list-group-item-danger\" );\n                break;\n            case 'information':\n                this.$bar.addClass(\"list-group-item-info\");\n                break;\n            case 'success':\n                this.$bar.addClass( \"list-group-item-success\" );\n                break;\n        }\n\n        this.$message.css({\n            fontSize: '13px',\n            lineHeight: '16px',\n            textAlign: 'center',\n            padding: '8px 10px 9px',\n            width: 'auto',\n            position: 'relative'\n        });\n    },\n    callback: {\n        onShow: function() {  },\n        onClose: function() {  }\n    }\n};\n\n\n$.noty.themes.defaultTheme = {\n    name    : 'defaultTheme',\n    helpers : {\n        borderFix: function() {\n            if(this.options.dismissQueue) {\n                var selector = this.options.layout.container.selector + ' ' + this.options.layout.parent.selector;\n                switch(this.options.layout.name) {\n                    case 'top':\n                        $(selector).css({borderRadius: '0px 0px 0px 0px'});\n                        $(selector).last().css({borderRadius: '0px 0px 5px 5px'});\n                        break;\n                    case 'topCenter':\n                    case 'topLeft':\n                    case 'topRight':\n                    case 'bottomCenter':\n                    case 'bottomLeft':\n                    case 'bottomRight':\n                    case 'center':\n                    case 'centerLeft':\n                    case 'centerRight':\n                    case 'inline':\n                        $(selector).css({borderRadius: '0px 0px 0px 0px'});\n                        $(selector).first().css({'border-top-left-radius': '5px', 'border-top-right-radius': '5px'});\n                        $(selector).last().css({'border-bottom-left-radius': '5px', 'border-bottom-right-radius': '5px'});\n                        break;\n                    case 'bottom':\n                        $(selector).css({borderRadius: '0px 0px 0px 0px'});\n                        $(selector).first().css({borderRadius: '5px 5px 0px 0px'});\n                        break;\n                    default:\n                        break;\n                }\n            }\n        }\n    },\n    modal   : {\n        css: {\n            position       : 'fixed',\n            width          : '100%',\n            height         : '100%',\n            backgroundColor: '#000',\n            zIndex         : 10000,\n            opacity        : 0.6,\n            display        : 'none',\n            left           : 0,\n            top            : 0\n        }\n    },\n    style   : function() {\n\n        this.$bar.css({\n            overflow  : 'hidden',\n            background: \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAQAAAClM0ndAAAAhklEQVR4AdXO0QrCMBBE0bttkk38/w8WRERpdyjzVOc+HxhIHqJGMQcFFkpYRQotLLSw0IJ5aBdovruMYDA/kT8plF9ZKLFQcgF18hDj1SbQOMlCA4kao0iiXmah7qBWPdxpohsgVZyj7e5I9KcID+EhiDI5gxBYKLBQYKHAQoGFAoEks/YEGHYKB7hFxf0AAAAASUVORK5CYII=') repeat-x scroll left top #fff\"\n        });\n\n        this.$message.css({\n            fontSize  : '13px',\n            lineHeight: '16px',\n            textAlign : 'center',\n            padding   : '8px 10px 9px',\n            width     : 'auto',\n            position  : 'relative'\n        });\n\n        this.$closeButton.css({\n            position  : 'absolute',\n            top       : 4, right: 4,\n            width     : 10, height: 10,\n            background: \"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)\",\n            display   : 'none',\n            cursor    : 'pointer'\n        });\n\n        this.$buttons.css({\n            padding        : 5,\n            textAlign      : 'right',\n            borderTop      : '1px solid #ccc',\n            backgroundColor: '#fff'\n        });\n\n        this.$buttons.find('button').css({\n            marginLeft: 5\n        });\n\n        this.$buttons.find('button:first').css({\n            marginLeft: 0\n        });\n\n        this.$bar.on({\n            mouseenter: function() {\n                $(this).find('.noty_close').stop().fadeTo('normal', 1);\n            },\n            mouseleave: function() {\n                $(this).find('.noty_close').stop().fadeTo('normal', 0);\n            }\n        });\n\n        switch(this.options.layout.name) {\n            case 'top':\n                this.$bar.css({\n                    borderRadius: '0px 0px 5px 5px',\n                    borderBottom: '2px solid #eee',\n                    borderLeft  : '2px solid #eee',\n                    borderRight : '2px solid #eee',\n                    boxShadow   : \"0 2px 4px rgba(0, 0, 0, 0.1)\"\n                });\n                break;\n            case 'topCenter':\n            case 'center':\n            case 'bottomCenter':\n            case 'inline':\n                this.$bar.css({\n                    borderRadius: '5px',\n                    border      : '1px solid #eee',\n                    boxShadow   : \"0 2px 4px rgba(0, 0, 0, 0.1)\"\n                });\n                this.$message.css({fontSize: '13px', textAlign: 'center'});\n                break;\n            case 'topLeft':\n            case 'topRight':\n            case 'bottomLeft':\n            case 'bottomRight':\n            case 'centerLeft':\n            case 'centerRight':\n                this.$bar.css({\n                    borderRadius: '5px',\n                    border      : '1px solid #eee',\n                    boxShadow   : \"0 2px 4px rgba(0, 0, 0, 0.1)\"\n                });\n                this.$message.css({fontSize: '13px', textAlign: 'left'});\n                break;\n            case 'bottom':\n                this.$bar.css({\n                    borderRadius: '5px 5px 0px 0px',\n                    borderTop   : '2px solid #eee',\n                    borderLeft  : '2px solid #eee',\n                    borderRight : '2px solid #eee',\n                    boxShadow   : \"0 -2px 4px rgba(0, 0, 0, 0.1)\"\n                });\n                break;\n            default:\n                this.$bar.css({\n                    border   : '2px solid #eee',\n                    boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.1)\"\n                });\n                break;\n        }\n\n        switch(this.options.type) {\n            case 'alert':\n            case 'notification':\n                this.$bar.css({backgroundColor: '#FFF', borderColor: '#CCC', color: '#444'});\n                break;\n            case 'warning':\n                this.$bar.css({backgroundColor: '#FFEAA8', borderColor: '#FFC237', color: '#826200'});\n                this.$buttons.css({borderTop: '1px solid #FFC237'});\n                break;\n            case 'error':\n                this.$bar.css({backgroundColor: 'red', borderColor: 'darkred', color: '#FFF'});\n                this.$message.css({fontWeight: 'bold'});\n                this.$buttons.css({borderTop: '1px solid darkred'});\n                break;\n            case 'information':\n                this.$bar.css({backgroundColor: '#57B7E2', borderColor: '#0B90C4', color: '#FFF'});\n                this.$buttons.css({borderTop: '1px solid #0B90C4'});\n                break;\n            case 'success':\n                this.$bar.css({backgroundColor: 'lightgreen', borderColor: '#50C24E', color: 'darkgreen'});\n                this.$buttons.css({borderTop: '1px solid #50C24E'});\n                break;\n            default:\n                this.$bar.css({backgroundColor: '#FFF', borderColor: '#CCC', color: '#444'});\n                break;\n        }\n    },\n    callback: {\n        onShow : function() {\n            $.noty.themes.defaultTheme.helpers.borderFix.apply(this);\n        },\n        onClose: function() {\n            $.noty.themes.defaultTheme.helpers.borderFix.apply(this);\n        }\n    }\n};\n\n$.noty.themes.relax = {\n    name    : 'relax',\n    helpers : {},\n    modal   : {\n        css: {\n            position       : 'fixed',\n            width          : '100%',\n            height         : '100%',\n            backgroundColor: '#000',\n            zIndex         : 10000,\n            opacity        : 0.6,\n            display        : 'none',\n            left           : 0,\n            top            : 0\n        }\n    },\n    style   : function() {\n\n        this.$bar.css({\n            overflow    : 'hidden',\n            margin      : '4px 0',\n            borderRadius: '2px'\n        });\n\n        this.$message.css({\n            fontSize  : '14px',\n            lineHeight: '16px',\n            textAlign : 'center',\n            padding   : '10px',\n            width     : 'auto',\n            position  : 'relative'\n        });\n\n        this.$closeButton.css({\n            position  : 'absolute',\n            top       : 4, right: 4,\n            width     : 10, height: 10,\n            background: \"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAQAAAAnOwc2AAAAxUlEQVR4AR3MPUoDURSA0e++uSkkOxC3IAOWNtaCIDaChfgXBMEZbQRByxCwk+BasgQRZLSYoLgDQbARxry8nyumPcVRKDfd0Aa8AsgDv1zp6pYd5jWOwhvebRTbzNNEw5BSsIpsj/kurQBnmk7sIFcCF5yyZPDRG6trQhujXYosaFoc+2f1MJ89uc76IND6F9BvlXUdpb6xwD2+4q3me3bysiHvtLYrUJto7PD/ve7LNHxSg/woN2kSz4txasBdhyiz3ugPGetTjm3XRokAAAAASUVORK5CYII=)\",\n            display   : 'none',\n            cursor    : 'pointer'\n        });\n\n        this.$buttons.css({\n            padding        : 5,\n            textAlign      : 'right',\n            borderTop      : '1px solid #ccc',\n            backgroundColor: '#fff'\n        });\n\n        this.$buttons.find('button').css({\n            marginLeft: 5\n        });\n\n        this.$buttons.find('button:first').css({\n            marginLeft: 0\n        });\n\n        this.$bar.on({\n            mouseenter: function() {\n                $(this).find('.noty_close').stop().fadeTo('normal', 1);\n            },\n            mouseleave: function() {\n                $(this).find('.noty_close').stop().fadeTo('normal', 0);\n            }\n        });\n\n        switch(this.options.layout.name) {\n            case 'top':\n                this.$bar.css({\n                    borderBottom: '2px solid #eee',\n                    borderLeft  : '2px solid #eee',\n                    borderRight : '2px solid #eee',\n                    borderTop   : '2px solid #eee',\n                    boxShadow   : \"0 2px 4px rgba(0, 0, 0, 0.1)\"\n                });\n                break;\n            case 'topCenter':\n            case 'center':\n            case 'bottomCenter':\n            case 'inline':\n                this.$bar.css({\n                    border   : '1px solid #eee',\n                    boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.1)\"\n                });\n                this.$message.css({fontSize: '13px', textAlign: 'center'});\n                break;\n            case 'topLeft':\n            case 'topRight':\n            case 'bottomLeft':\n            case 'bottomRight':\n            case 'centerLeft':\n            case 'centerRight':\n                this.$bar.css({\n                    border   : '1px solid #eee',\n                    boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.1)\"\n                });\n                this.$message.css({fontSize: '13px', textAlign: 'left'});\n                break;\n            case 'bottom':\n                this.$bar.css({\n                    borderTop   : '2px solid #eee',\n                    borderLeft  : '2px solid #eee',\n                    borderRight : '2px solid #eee',\n                    borderBottom: '2px solid #eee',\n                    boxShadow   : \"0 -2px 4px rgba(0, 0, 0, 0.1)\"\n                });\n                break;\n            default:\n                this.$bar.css({\n                    border   : '2px solid #eee',\n                    boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.1)\"\n                });\n                break;\n        }\n\n        switch(this.options.type) {\n            case 'alert':\n            case 'notification':\n                this.$bar.css({backgroundColor: '#FFF', borderColor: '#dedede', color: '#444'});\n                break;\n            case 'warning':\n                this.$bar.css({backgroundColor: '#FFEAA8', borderColor: '#FFC237', color: '#826200'});\n                this.$buttons.css({borderTop: '1px solid #FFC237'});\n                break;\n            case 'error':\n                this.$bar.css({backgroundColor: '#FF8181', borderColor: '#e25353', color: '#FFF'});\n                this.$message.css({fontWeight: 'bold'});\n                this.$buttons.css({borderTop: '1px solid darkred'});\n                break;\n            case 'information':\n                this.$bar.css({backgroundColor: '#78C5E7', borderColor: '#3badd6', color: '#FFF'});\n                this.$buttons.css({borderTop: '1px solid #0B90C4'});\n                break;\n            case 'success':\n                this.$bar.css({backgroundColor: '#BCF5BC', borderColor: '#7cdd77', color: 'darkgreen'});\n                this.$buttons.css({borderTop: '1px solid #50C24E'});\n                break;\n            default:\n                this.$bar.css({backgroundColor: '#FFF', borderColor: '#CCC', color: '#444'});\n                break;\n        }\n    },\n    callback: {\n        onShow : function() {\n\n        },\n        onClose: function() {\n\n        }\n    }\n};\n\n\nreturn window.noty;\n\n});","function noty_flash(text, type) {\r\n    //success, info, warning, error\r\n    var icon;\r\n    //\r\n    switch(true){\r\n        case (type=='success'):\r\n            icon = '<i class=\"fa fa-check\"></i>';\r\n            break;\r\n        case (type=='info'):\r\n            icon = '<i class=\"fa fa-bell\"></i>';\r\n            break;\r\n        case (type=='warning'):\r\n            icon = '<i class=\"fa fa-exclamation-circle\"></i>';\r\n            break;\r\n        case (type=='error'):\r\n            icon = '<i class=\"fa fa-ban\"></i>';\r\n            break;\r\n        default:\r\n            icon = '<i class=\"fa fa-bell\"></i>';\r\n    }\r\n\r\n    if (type === 'undefined'){\r\n        type = 'information';\r\n    }\r\n\r\n    var n = noty({\r\n        text: text,\r\n        type: type,\r\n        dismissQueue: true,\r\n        layout: 'bottomLeft',\r\n        theme: 'bootstrapTheme',\r\n        template: '<div class=\"noty_message\">'+ icon +' <span class=\"noty_text\"></span><div class=\"noty_close\"></div></div>',\r\n        animation: {\r\n            open: 'animated bounceInLeft',\r\n            close: 'animated bounceOutLeft',\r\n            easing: 'swing',\r\n            speed: 500\r\n        }\r\n    });\r\n};","/*!\r\n * typeahead.js 0.11.1\r\n * https://github.com/twitter/typeahead.js\r\n * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT\r\n */\r\n\r\n(function(root, factory) {\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(\"bloodhound\", [ \"jquery\" ], function(a0) {\r\n            return root[\"Bloodhound\"] = factory(a0);\r\n        });\r\n    } else if (typeof exports === \"object\") {\r\n        module.exports = factory(require(\"jquery\"));\r\n    } else {\r\n        root[\"Bloodhound\"] = factory(jQuery);\r\n    }\r\n})(this, function($) {\r\n    var _ = function() {\r\n        \"use strict\";\r\n        return {\r\n            isMsie: function() {\r\n                return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\r\n            },\r\n            isBlankString: function(str) {\r\n                return !str || /^\\s*$/.test(str);\r\n            },\r\n            escapeRegExChars: function(str) {\r\n                return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\r\n            },\r\n            isString: function(obj) {\r\n                return typeof obj === \"string\";\r\n            },\r\n            isNumber: function(obj) {\r\n                return typeof obj === \"number\";\r\n            },\r\n            isArray: $.isArray,\r\n            isFunction: $.isFunction,\r\n            isObject: $.isPlainObject,\r\n            isUndefined: function(obj) {\r\n                return typeof obj === \"undefined\";\r\n            },\r\n            isElement: function(obj) {\r\n                return !!(obj && obj.nodeType === 1);\r\n            },\r\n            isJQuery: function(obj) {\r\n                return obj instanceof $;\r\n            },\r\n            toStr: function toStr(s) {\r\n                return _.isUndefined(s) || s === null ? \"\" : s + \"\";\r\n            },\r\n            bind: $.proxy,\r\n            each: function(collection, cb) {\r\n                $.each(collection, reverseArgs);\r\n                function reverseArgs(index, value) {\r\n                    return cb(value, index);\r\n                }\r\n            },\r\n            map: $.map,\r\n            filter: $.grep,\r\n            every: function(obj, test) {\r\n                var result = true;\r\n                if (!obj) {\r\n                    return result;\r\n                }\r\n                $.each(obj, function(key, val) {\r\n                    if (!(result = test.call(null, val, key, obj))) {\r\n                        return false;\r\n                    }\r\n                });\r\n                return !!result;\r\n            },\r\n            some: function(obj, test) {\r\n                var result = false;\r\n                if (!obj) {\r\n                    return result;\r\n                }\r\n                $.each(obj, function(key, val) {\r\n                    if (result = test.call(null, val, key, obj)) {\r\n                        return false;\r\n                    }\r\n                });\r\n                return !!result;\r\n            },\r\n            mixin: $.extend,\r\n            identity: function(x) {\r\n                return x;\r\n            },\r\n            clone: function(obj) {\r\n                return $.extend(true, {}, obj);\r\n            },\r\n            getIdGenerator: function() {\r\n                var counter = 0;\r\n                return function() {\r\n                    return counter++;\r\n                };\r\n            },\r\n            templatify: function templatify(obj) {\r\n                return $.isFunction(obj) ? obj : template;\r\n                function template() {\r\n                    return String(obj);\r\n                }\r\n            },\r\n            defer: function(fn) {\r\n                setTimeout(fn, 0);\r\n            },\r\n            debounce: function(func, wait, immediate) {\r\n                var timeout, result;\r\n                return function() {\r\n                    var context = this, args = arguments, later, callNow;\r\n                    later = function() {\r\n                        timeout = null;\r\n                        if (!immediate) {\r\n                            result = func.apply(context, args);\r\n                        }\r\n                    };\r\n                    callNow = immediate && !timeout;\r\n                    clearTimeout(timeout);\r\n                    timeout = setTimeout(later, wait);\r\n                    if (callNow) {\r\n                        result = func.apply(context, args);\r\n                    }\r\n                    return result;\r\n                };\r\n            },\r\n            throttle: function(func, wait) {\r\n                var context, args, timeout, result, previous, later;\r\n                previous = 0;\r\n                later = function() {\r\n                    previous = new Date();\r\n                    timeout = null;\r\n                    result = func.apply(context, args);\r\n                };\r\n                return function() {\r\n                    var now = new Date(), remaining = wait - (now - previous);\r\n                    context = this;\r\n                    args = arguments;\r\n                    if (remaining <= 0) {\r\n                        clearTimeout(timeout);\r\n                        timeout = null;\r\n                        previous = now;\r\n                        result = func.apply(context, args);\r\n                    } else if (!timeout) {\r\n                        timeout = setTimeout(later, remaining);\r\n                    }\r\n                    return result;\r\n                };\r\n            },\r\n            stringify: function(val) {\r\n                return _.isString(val) ? val : JSON.stringify(val);\r\n            },\r\n            noop: function() {}\r\n        };\r\n    }();\r\n    var VERSION = \"0.11.1\";\r\n    var tokenizers = function() {\r\n        \"use strict\";\r\n        return {\r\n            nonword: nonword,\r\n            whitespace: whitespace,\r\n            obj: {\r\n                nonword: getObjTokenizer(nonword),\r\n                whitespace: getObjTokenizer(whitespace)\r\n            }\r\n        };\r\n        function whitespace(str) {\r\n            str = _.toStr(str);\r\n            return str ? str.split(/\\s+/) : [];\r\n        }\r\n        function nonword(str) {\r\n            str = _.toStr(str);\r\n            return str ? str.split(/\\W+/) : [];\r\n        }\r\n        function getObjTokenizer(tokenizer) {\r\n            return function setKey(keys) {\r\n                keys = _.isArray(keys) ? keys : [].slice.call(arguments, 0);\r\n                return function tokenize(o) {\r\n                    var tokens = [];\r\n                    _.each(keys, function(k) {\r\n                        tokens = tokens.concat(tokenizer(_.toStr(o[k])));\r\n                    });\r\n                    return tokens;\r\n                };\r\n            };\r\n        }\r\n    }();\r\n    var LruCache = function() {\r\n        \"use strict\";\r\n        function LruCache(maxSize) {\r\n            this.maxSize = _.isNumber(maxSize) ? maxSize : 100;\r\n            this.reset();\r\n            if (this.maxSize <= 0) {\r\n                this.set = this.get = $.noop;\r\n            }\r\n        }\r\n        _.mixin(LruCache.prototype, {\r\n            set: function set(key, val) {\r\n                var tailItem = this.list.tail, node;\r\n                if (this.size >= this.maxSize) {\r\n                    this.list.remove(tailItem);\r\n                    delete this.hash[tailItem.key];\r\n                    this.size--;\r\n                }\r\n                if (node = this.hash[key]) {\r\n                    node.val = val;\r\n                    this.list.moveToFront(node);\r\n                } else {\r\n                    node = new Node(key, val);\r\n                    this.list.add(node);\r\n                    this.hash[key] = node;\r\n                    this.size++;\r\n                }\r\n            },\r\n            get: function get(key) {\r\n                var node = this.hash[key];\r\n                if (node) {\r\n                    this.list.moveToFront(node);\r\n                    return node.val;\r\n                }\r\n            },\r\n            reset: function reset() {\r\n                this.size = 0;\r\n                this.hash = {};\r\n                this.list = new List();\r\n            }\r\n        });\r\n        function List() {\r\n            this.head = this.tail = null;\r\n        }\r\n        _.mixin(List.prototype, {\r\n            add: function add(node) {\r\n                if (this.head) {\r\n                    node.next = this.head;\r\n                    this.head.prev = node;\r\n                }\r\n                this.head = node;\r\n                this.tail = this.tail || node;\r\n            },\r\n            remove: function remove(node) {\r\n                node.prev ? node.prev.next = node.next : this.head = node.next;\r\n                node.next ? node.next.prev = node.prev : this.tail = node.prev;\r\n            },\r\n            moveToFront: function(node) {\r\n                this.remove(node);\r\n                this.add(node);\r\n            }\r\n        });\r\n        function Node(key, val) {\r\n            this.key = key;\r\n            this.val = val;\r\n            this.prev = this.next = null;\r\n        }\r\n        return LruCache;\r\n    }();\r\n    var PersistentStorage = function() {\r\n        \"use strict\";\r\n        var LOCAL_STORAGE;\r\n        try {\r\n            LOCAL_STORAGE = window.localStorage;\r\n            LOCAL_STORAGE.setItem(\"~~~\", \"!\");\r\n            LOCAL_STORAGE.removeItem(\"~~~\");\r\n        } catch (err) {\r\n            LOCAL_STORAGE = null;\r\n        }\r\n        function PersistentStorage(namespace, override) {\r\n            this.prefix = [ \"__\", namespace, \"__\" ].join(\"\");\r\n            this.ttlKey = \"__ttl__\";\r\n            this.keyMatcher = new RegExp(\"^\" + _.escapeRegExChars(this.prefix));\r\n            this.ls = override || LOCAL_STORAGE;\r\n            !this.ls && this._noop();\r\n        }\r\n        _.mixin(PersistentStorage.prototype, {\r\n            _prefix: function(key) {\r\n                return this.prefix + key;\r\n            },\r\n            _ttlKey: function(key) {\r\n                return this._prefix(key) + this.ttlKey;\r\n            },\r\n            _noop: function() {\r\n                this.get = this.set = this.remove = this.clear = this.isExpired = _.noop;\r\n            },\r\n            _safeSet: function(key, val) {\r\n                try {\r\n                    this.ls.setItem(key, val);\r\n                } catch (err) {\r\n                    if (err.name === \"QuotaExceededError\") {\r\n                        this.clear();\r\n                        this._noop();\r\n                    }\r\n                }\r\n            },\r\n            get: function(key) {\r\n                if (this.isExpired(key)) {\r\n                    this.remove(key);\r\n                }\r\n                return decode(this.ls.getItem(this._prefix(key)));\r\n            },\r\n            set: function(key, val, ttl) {\r\n                if (_.isNumber(ttl)) {\r\n                    this._safeSet(this._ttlKey(key), encode(now() + ttl));\r\n                } else {\r\n                    this.ls.removeItem(this._ttlKey(key));\r\n                }\r\n                return this._safeSet(this._prefix(key), encode(val));\r\n            },\r\n            remove: function(key) {\r\n                this.ls.removeItem(this._ttlKey(key));\r\n                this.ls.removeItem(this._prefix(key));\r\n                return this;\r\n            },\r\n            clear: function() {\r\n                var i, keys = gatherMatchingKeys(this.keyMatcher);\r\n                for (i = keys.length; i--; ) {\r\n                    this.remove(keys[i]);\r\n                }\r\n                return this;\r\n            },\r\n            isExpired: function(key) {\r\n                var ttl = decode(this.ls.getItem(this._ttlKey(key)));\r\n                return _.isNumber(ttl) && now() > ttl ? true : false;\r\n            }\r\n        });\r\n        return PersistentStorage;\r\n        function now() {\r\n            return new Date().getTime();\r\n        }\r\n        function encode(val) {\r\n            return JSON.stringify(_.isUndefined(val) ? null : val);\r\n        }\r\n        function decode(val) {\r\n            return $.parseJSON(val);\r\n        }\r\n        function gatherMatchingKeys(keyMatcher) {\r\n            var i, key, keys = [], len = LOCAL_STORAGE.length;\r\n            for (i = 0; i < len; i++) {\r\n                if ((key = LOCAL_STORAGE.key(i)).match(keyMatcher)) {\r\n                    keys.push(key.replace(keyMatcher, \"\"));\r\n                }\r\n            }\r\n            return keys;\r\n        }\r\n    }();\r\n    var Transport = function() {\r\n        \"use strict\";\r\n        var pendingRequestsCount = 0, pendingRequests = {}, maxPendingRequests = 6, sharedCache = new LruCache(10);\r\n        function Transport(o) {\r\n            o = o || {};\r\n            this.cancelled = false;\r\n            this.lastReq = null;\r\n            this._send = o.transport;\r\n            this._get = o.limiter ? o.limiter(this._get) : this._get;\r\n            this._cache = o.cache === false ? new LruCache(0) : sharedCache;\r\n        }\r\n        Transport.setMaxPendingRequests = function setMaxPendingRequests(num) {\r\n            maxPendingRequests = num;\r\n        };\r\n        Transport.resetCache = function resetCache() {\r\n            sharedCache.reset();\r\n        };\r\n        _.mixin(Transport.prototype, {\r\n            _fingerprint: function fingerprint(o) {\r\n                o = o || {};\r\n                return o.url + o.type + $.param(o.data || {});\r\n            },\r\n            _get: function(o, cb) {\r\n                var that = this, fingerprint, jqXhr;\r\n                fingerprint = this._fingerprint(o);\r\n                if (this.cancelled || fingerprint !== this.lastReq) {\r\n                    return;\r\n                }\r\n                if (jqXhr = pendingRequests[fingerprint]) {\r\n                    jqXhr.done(done).fail(fail);\r\n                } else if (pendingRequestsCount < maxPendingRequests) {\r\n                    pendingRequestsCount++;\r\n                    pendingRequests[fingerprint] = this._send(o).done(done).fail(fail).always(always);\r\n                } else {\r\n                    this.onDeckRequestArgs = [].slice.call(arguments, 0);\r\n                }\r\n                function done(resp) {\r\n                    cb(null, resp);\r\n                    that._cache.set(fingerprint, resp);\r\n                }\r\n                function fail() {\r\n                    cb(true);\r\n                }\r\n                function always() {\r\n                    pendingRequestsCount--;\r\n                    delete pendingRequests[fingerprint];\r\n                    if (that.onDeckRequestArgs) {\r\n                        that._get.apply(that, that.onDeckRequestArgs);\r\n                        that.onDeckRequestArgs = null;\r\n                    }\r\n                }\r\n            },\r\n            get: function(o, cb) {\r\n                var resp, fingerprint;\r\n                cb = cb || $.noop;\r\n                o = _.isString(o) ? {\r\n                    url: o\r\n                } : o || {};\r\n                fingerprint = this._fingerprint(o);\r\n                this.cancelled = false;\r\n                this.lastReq = fingerprint;\r\n                if (resp = this._cache.get(fingerprint)) {\r\n                    cb(null, resp);\r\n                } else {\r\n                    this._get(o, cb);\r\n                }\r\n            },\r\n            cancel: function() {\r\n                this.cancelled = true;\r\n            }\r\n        });\r\n        return Transport;\r\n    }();\r\n    var SearchIndex = window.SearchIndex = function() {\r\n        \"use strict\";\r\n        var CHILDREN = \"c\", IDS = \"i\";\r\n        function SearchIndex(o) {\r\n            o = o || {};\r\n            if (!o.datumTokenizer || !o.queryTokenizer) {\r\n                $.error(\"datumTokenizer and queryTokenizer are both required\");\r\n            }\r\n            this.identify = o.identify || _.stringify;\r\n            this.datumTokenizer = o.datumTokenizer;\r\n            this.queryTokenizer = o.queryTokenizer;\r\n            this.reset();\r\n        }\r\n        _.mixin(SearchIndex.prototype, {\r\n            bootstrap: function bootstrap(o) {\r\n                this.datums = o.datums;\r\n                this.trie = o.trie;\r\n            },\r\n            add: function(data) {\r\n                var that = this;\r\n                data = _.isArray(data) ? data : [ data ];\r\n                _.each(data, function(datum) {\r\n                    var id, tokens;\r\n                    that.datums[id = that.identify(datum)] = datum;\r\n                    tokens = normalizeTokens(that.datumTokenizer(datum));\r\n                    _.each(tokens, function(token) {\r\n                        var node, chars, ch;\r\n                        node = that.trie;\r\n                        chars = token.split(\"\");\r\n                        while (ch = chars.shift()) {\r\n                            node = node[CHILDREN][ch] || (node[CHILDREN][ch] = newNode());\r\n                            node[IDS].push(id);\r\n                        }\r\n                    });\r\n                });\r\n            },\r\n            get: function get(ids) {\r\n                var that = this;\r\n                return _.map(ids, function(id) {\r\n                    return that.datums[id];\r\n                });\r\n            },\r\n            search: function search(query) {\r\n                var that = this, tokens, matches;\r\n                tokens = normalizeTokens(this.queryTokenizer(query));\r\n                _.each(tokens, function(token) {\r\n                    var node, chars, ch, ids;\r\n                    if (matches && matches.length === 0) {\r\n                        return false;\r\n                    }\r\n                    node = that.trie;\r\n                    chars = token.split(\"\");\r\n                    while (node && (ch = chars.shift())) {\r\n                        node = node[CHILDREN][ch];\r\n                    }\r\n                    if (node && chars.length === 0) {\r\n                        ids = node[IDS].slice(0);\r\n                        matches = matches ? getIntersection(matches, ids) : ids;\r\n                    } else {\r\n                        matches = [];\r\n                        return false;\r\n                    }\r\n                });\r\n                return matches ? _.map(unique(matches), function(id) {\r\n                    return that.datums[id];\r\n                }) : [];\r\n            },\r\n            all: function all() {\r\n                var values = [];\r\n                for (var key in this.datums) {\r\n                    values.push(this.datums[key]);\r\n                }\r\n                return values;\r\n            },\r\n            reset: function reset() {\r\n                this.datums = {};\r\n                this.trie = newNode();\r\n            },\r\n            serialize: function serialize() {\r\n                return {\r\n                    datums: this.datums,\r\n                    trie: this.trie\r\n                };\r\n            }\r\n        });\r\n        return SearchIndex;\r\n        function normalizeTokens(tokens) {\r\n            tokens = _.filter(tokens, function(token) {\r\n                return !!token;\r\n            });\r\n            tokens = _.map(tokens, function(token) {\r\n                return token.toLowerCase();\r\n            });\r\n            return tokens;\r\n        }\r\n        function newNode() {\r\n            var node = {};\r\n            node[IDS] = [];\r\n            node[CHILDREN] = {};\r\n            return node;\r\n        }\r\n        function unique(array) {\r\n            var seen = {}, uniques = [];\r\n            for (var i = 0, len = array.length; i < len; i++) {\r\n                if (!seen[array[i]]) {\r\n                    seen[array[i]] = true;\r\n                    uniques.push(array[i]);\r\n                }\r\n            }\r\n            return uniques;\r\n        }\r\n        function getIntersection(arrayA, arrayB) {\r\n            var ai = 0, bi = 0, intersection = [];\r\n            arrayA = arrayA.sort();\r\n            arrayB = arrayB.sort();\r\n            var lenArrayA = arrayA.length, lenArrayB = arrayB.length;\r\n            while (ai < lenArrayA && bi < lenArrayB) {\r\n                if (arrayA[ai] < arrayB[bi]) {\r\n                    ai++;\r\n                } else if (arrayA[ai] > arrayB[bi]) {\r\n                    bi++;\r\n                } else {\r\n                    intersection.push(arrayA[ai]);\r\n                    ai++;\r\n                    bi++;\r\n                }\r\n            }\r\n            return intersection;\r\n        }\r\n    }();\r\n    var Prefetch = function() {\r\n        \"use strict\";\r\n        var keys;\r\n        keys = {\r\n            data: \"data\",\r\n            protocol: \"protocol\",\r\n            thumbprint: \"thumbprint\"\r\n        };\r\n        function Prefetch(o) {\r\n            this.url = o.url;\r\n            this.ttl = o.ttl;\r\n            this.cache = o.cache;\r\n            this.prepare = o.prepare;\r\n            this.transform = o.transform;\r\n            this.transport = o.transport;\r\n            this.thumbprint = o.thumbprint;\r\n            this.storage = new PersistentStorage(o.cacheKey);\r\n        }\r\n        _.mixin(Prefetch.prototype, {\r\n            _settings: function settings() {\r\n                return {\r\n                    url: this.url,\r\n                    type: \"GET\",\r\n                    dataType: \"json\"\r\n                };\r\n            },\r\n            store: function store(data) {\r\n                if (!this.cache) {\r\n                    return;\r\n                }\r\n                this.storage.set(keys.data, data, this.ttl);\r\n                this.storage.set(keys.protocol, location.protocol, this.ttl);\r\n                this.storage.set(keys.thumbprint, this.thumbprint, this.ttl);\r\n            },\r\n            fromCache: function fromCache() {\r\n                var stored = {}, isExpired;\r\n                if (!this.cache) {\r\n                    return null;\r\n                }\r\n                stored.data = this.storage.get(keys.data);\r\n                stored.protocol = this.storage.get(keys.protocol);\r\n                stored.thumbprint = this.storage.get(keys.thumbprint);\r\n                isExpired = stored.thumbprint !== this.thumbprint || stored.protocol !== location.protocol;\r\n                return stored.data && !isExpired ? stored.data : null;\r\n            },\r\n            fromNetwork: function(cb) {\r\n                var that = this, settings;\r\n                if (!cb) {\r\n                    return;\r\n                }\r\n                settings = this.prepare(this._settings());\r\n                this.transport(settings).fail(onError).done(onResponse);\r\n                function onError() {\r\n                    cb(true);\r\n                }\r\n                function onResponse(resp) {\r\n                    cb(null, that.transform(resp));\r\n                }\r\n            },\r\n            clear: function clear() {\r\n                this.storage.clear();\r\n                return this;\r\n            }\r\n        });\r\n        return Prefetch;\r\n    }();\r\n    var Remote = function() {\r\n        \"use strict\";\r\n        function Remote(o) {\r\n            this.url = o.url;\r\n            this.prepare = o.prepare;\r\n            this.transform = o.transform;\r\n            this.transport = new Transport({\r\n                cache: o.cache,\r\n                limiter: o.limiter,\r\n                transport: o.transport\r\n            });\r\n        }\r\n        _.mixin(Remote.prototype, {\r\n            _settings: function settings() {\r\n                return {\r\n                    url: this.url,\r\n                    type: \"GET\",\r\n                    dataType: \"json\"\r\n                };\r\n            },\r\n            get: function get(query, cb) {\r\n                var that = this, settings;\r\n                if (!cb) {\r\n                    return;\r\n                }\r\n                query = query || \"\";\r\n                settings = this.prepare(query, this._settings());\r\n                return this.transport.get(settings, onResponse);\r\n                function onResponse(err, resp) {\r\n                    err ? cb([]) : cb(that.transform(resp));\r\n                }\r\n            },\r\n            cancelLastRequest: function cancelLastRequest() {\r\n                this.transport.cancel();\r\n            }\r\n        });\r\n        return Remote;\r\n    }();\r\n    var oParser = function() {\r\n        \"use strict\";\r\n        return function parse(o) {\r\n            var defaults, sorter;\r\n            defaults = {\r\n                initialize: true,\r\n                identify: _.stringify,\r\n                datumTokenizer: null,\r\n                queryTokenizer: null,\r\n                sufficient: 5,\r\n                sorter: null,\r\n                local: [],\r\n                prefetch: null,\r\n                remote: null\r\n            };\r\n            o = _.mixin(defaults, o || {});\r\n            !o.datumTokenizer && $.error(\"datumTokenizer is required\");\r\n            !o.queryTokenizer && $.error(\"queryTokenizer is required\");\r\n            sorter = o.sorter;\r\n            o.sorter = sorter ? function(x) {\r\n                return x.sort(sorter);\r\n            } : _.identity;\r\n            o.local = _.isFunction(o.local) ? o.local() : o.local;\r\n            o.prefetch = parsePrefetch(o.prefetch);\r\n            o.remote = parseRemote(o.remote);\r\n            return o;\r\n        };\r\n        function parsePrefetch(o) {\r\n            var defaults;\r\n            if (!o) {\r\n                return null;\r\n            }\r\n            defaults = {\r\n                url: null,\r\n                ttl: 24 * 60 * 60 * 1e3,\r\n                cache: true,\r\n                cacheKey: null,\r\n                thumbprint: \"\",\r\n                prepare: _.identity,\r\n                transform: _.identity,\r\n                transport: null\r\n            };\r\n            o = _.isString(o) ? {\r\n                url: o\r\n            } : o;\r\n            o = _.mixin(defaults, o);\r\n            !o.url && $.error(\"prefetch requires url to be set\");\r\n            o.transform = o.filter || o.transform;\r\n            o.cacheKey = o.cacheKey || o.url;\r\n            o.thumbprint = VERSION + o.thumbprint;\r\n            o.transport = o.transport ? callbackToDeferred(o.transport) : $.ajax;\r\n            return o;\r\n        }\r\n        function parseRemote(o) {\r\n            var defaults;\r\n            if (!o) {\r\n                return;\r\n            }\r\n            defaults = {\r\n                url: null,\r\n                cache: true,\r\n                prepare: null,\r\n                replace: null,\r\n                wildcard: null,\r\n                limiter: null,\r\n                rateLimitBy: \"debounce\",\r\n                rateLimitWait: 300,\r\n                transform: _.identity,\r\n                transport: null\r\n            };\r\n            o = _.isString(o) ? {\r\n                url: o\r\n            } : o;\r\n            o = _.mixin(defaults, o);\r\n            !o.url && $.error(\"remote requires url to be set\");\r\n            o.transform = o.filter || o.transform;\r\n            o.prepare = toRemotePrepare(o);\r\n            o.limiter = toLimiter(o);\r\n            o.transport = o.transport ? callbackToDeferred(o.transport) : $.ajax;\r\n            delete o.replace;\r\n            delete o.wildcard;\r\n            delete o.rateLimitBy;\r\n            delete o.rateLimitWait;\r\n            return o;\r\n        }\r\n        function toRemotePrepare(o) {\r\n            var prepare, replace, wildcard;\r\n            prepare = o.prepare;\r\n            replace = o.replace;\r\n            wildcard = o.wildcard;\r\n            if (prepare) {\r\n                return prepare;\r\n            }\r\n            if (replace) {\r\n                prepare = prepareByReplace;\r\n            } else if (o.wildcard) {\r\n                prepare = prepareByWildcard;\r\n            } else {\r\n                prepare = idenityPrepare;\r\n            }\r\n            return prepare;\r\n            function prepareByReplace(query, settings) {\r\n                settings.url = replace(settings.url, query);\r\n                return settings;\r\n            }\r\n            function prepareByWildcard(query, settings) {\r\n                settings.url = settings.url.replace(wildcard, encodeURIComponent(query));\r\n                return settings;\r\n            }\r\n            function idenityPrepare(query, settings) {\r\n                return settings;\r\n            }\r\n        }\r\n        function toLimiter(o) {\r\n            var limiter, method, wait;\r\n            limiter = o.limiter;\r\n            method = o.rateLimitBy;\r\n            wait = o.rateLimitWait;\r\n            if (!limiter) {\r\n                limiter = /^throttle$/i.test(method) ? throttle(wait) : debounce(wait);\r\n            }\r\n            return limiter;\r\n            function debounce(wait) {\r\n                return function debounce(fn) {\r\n                    return _.debounce(fn, wait);\r\n                };\r\n            }\r\n            function throttle(wait) {\r\n                return function throttle(fn) {\r\n                    return _.throttle(fn, wait);\r\n                };\r\n            }\r\n        }\r\n        function callbackToDeferred(fn) {\r\n            return function wrapper(o) {\r\n                var deferred = $.Deferred();\r\n                fn(o, onSuccess, onError);\r\n                return deferred;\r\n                function onSuccess(resp) {\r\n                    _.defer(function() {\r\n                        deferred.resolve(resp);\r\n                    });\r\n                }\r\n                function onError(err) {\r\n                    _.defer(function() {\r\n                        deferred.reject(err);\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    }();\r\n    var Bloodhound = function() {\r\n        \"use strict\";\r\n        var old;\r\n        old = window && window.Bloodhound;\r\n        function Bloodhound(o) {\r\n            o = oParser(o);\r\n            this.sorter = o.sorter;\r\n            this.identify = o.identify;\r\n            this.sufficient = o.sufficient;\r\n            this.local = o.local;\r\n            this.remote = o.remote ? new Remote(o.remote) : null;\r\n            this.prefetch = o.prefetch ? new Prefetch(o.prefetch) : null;\r\n            this.index = new SearchIndex({\r\n                identify: this.identify,\r\n                datumTokenizer: o.datumTokenizer,\r\n                queryTokenizer: o.queryTokenizer\r\n            });\r\n            o.initialize !== false && this.initialize();\r\n        }\r\n        Bloodhound.noConflict = function noConflict() {\r\n            window && (window.Bloodhound = old);\r\n            return Bloodhound;\r\n        };\r\n        Bloodhound.tokenizers = tokenizers;\r\n        _.mixin(Bloodhound.prototype, {\r\n            __ttAdapter: function ttAdapter() {\r\n                var that = this;\r\n                return this.remote ? withAsync : withoutAsync;\r\n                function withAsync(query, sync, async) {\r\n                    return that.search(query, sync, async);\r\n                }\r\n                function withoutAsync(query, sync) {\r\n                    return that.search(query, sync);\r\n                }\r\n            },\r\n            _loadPrefetch: function loadPrefetch() {\r\n                var that = this, deferred, serialized;\r\n                deferred = $.Deferred();\r\n                if (!this.prefetch) {\r\n                    deferred.resolve();\r\n                } else if (serialized = this.prefetch.fromCache()) {\r\n                    this.index.bootstrap(serialized);\r\n                    deferred.resolve();\r\n                } else {\r\n                    this.prefetch.fromNetwork(done);\r\n                }\r\n                return deferred.promise();\r\n                function done(err, data) {\r\n                    if (err) {\r\n                        return deferred.reject();\r\n                    }\r\n                    that.add(data);\r\n                    that.prefetch.store(that.index.serialize());\r\n                    deferred.resolve();\r\n                }\r\n            },\r\n            _initialize: function initialize() {\r\n                var that = this, deferred;\r\n                this.clear();\r\n                (this.initPromise = this._loadPrefetch()).done(addLocalToIndex);\r\n                return this.initPromise;\r\n                function addLocalToIndex() {\r\n                    that.add(that.local);\r\n                }\r\n            },\r\n            initialize: function initialize(force) {\r\n                return !this.initPromise || force ? this._initialize() : this.initPromise;\r\n            },\r\n            add: function add(data) {\r\n                this.index.add(data);\r\n                return this;\r\n            },\r\n            get: function get(ids) {\r\n                ids = _.isArray(ids) ? ids : [].slice.call(arguments);\r\n                return this.index.get(ids);\r\n            },\r\n            search: function search(query, sync, async) {\r\n                var that = this, local;\r\n                local = this.sorter(this.index.search(query));\r\n                sync(this.remote ? local.slice() : local);\r\n                if (this.remote && local.length < this.sufficient) {\r\n                    this.remote.get(query, processRemote);\r\n                } else if (this.remote) {\r\n                    this.remote.cancelLastRequest();\r\n                }\r\n                return this;\r\n                function processRemote(remote) {\r\n                    var nonDuplicates = [];\r\n                    _.each(remote, function(r) {\r\n                        !_.some(local, function(l) {\r\n                            return that.identify(r) === that.identify(l);\r\n                        }) && nonDuplicates.push(r);\r\n                    });\r\n                    async && async(nonDuplicates);\r\n                }\r\n            },\r\n            all: function all() {\r\n                return this.index.all();\r\n            },\r\n            clear: function clear() {\r\n                this.index.reset();\r\n                return this;\r\n            },\r\n            clearPrefetchCache: function clearPrefetchCache() {\r\n                this.prefetch && this.prefetch.clear();\r\n                return this;\r\n            },\r\n            clearRemoteCache: function clearRemoteCache() {\r\n                Transport.resetCache();\r\n                return this;\r\n            },\r\n            ttAdapter: function ttAdapter() {\r\n                return this.__ttAdapter();\r\n            }\r\n        });\r\n        return Bloodhound;\r\n    }();\r\n    return Bloodhound;\r\n});\r\n\r\n(function(root, factory) {\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(\"typeahead.js\", [ \"jquery\" ], function(a0) {\r\n            return factory(a0);\r\n        });\r\n    } else if (typeof exports === \"object\") {\r\n        module.exports = factory(require(\"jquery\"));\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n})(this, function($) {\r\n    var _ = function() {\r\n        \"use strict\";\r\n        return {\r\n            isMsie: function() {\r\n                return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\r\n            },\r\n            isBlankString: function(str) {\r\n                return !str || /^\\s*$/.test(str);\r\n            },\r\n            escapeRegExChars: function(str) {\r\n                return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\r\n            },\r\n            isString: function(obj) {\r\n                return typeof obj === \"string\";\r\n            },\r\n            isNumber: function(obj) {\r\n                return typeof obj === \"number\";\r\n            },\r\n            isArray: $.isArray,\r\n            isFunction: $.isFunction,\r\n            isObject: $.isPlainObject,\r\n            isUndefined: function(obj) {\r\n                return typeof obj === \"undefined\";\r\n            },\r\n            isElement: function(obj) {\r\n                return !!(obj && obj.nodeType === 1);\r\n            },\r\n            isJQuery: function(obj) {\r\n                return obj instanceof $;\r\n            },\r\n            toStr: function toStr(s) {\r\n                return _.isUndefined(s) || s === null ? \"\" : s + \"\";\r\n            },\r\n            bind: $.proxy,\r\n            each: function(collection, cb) {\r\n                $.each(collection, reverseArgs);\r\n                function reverseArgs(index, value) {\r\n                    return cb(value, index);\r\n                }\r\n            },\r\n            map: $.map,\r\n            filter: $.grep,\r\n            every: function(obj, test) {\r\n                var result = true;\r\n                if (!obj) {\r\n                    return result;\r\n                }\r\n                $.each(obj, function(key, val) {\r\n                    if (!(result = test.call(null, val, key, obj))) {\r\n                        return false;\r\n                    }\r\n                });\r\n                return !!result;\r\n            },\r\n            some: function(obj, test) {\r\n                var result = false;\r\n                if (!obj) {\r\n                    return result;\r\n                }\r\n                $.each(obj, function(key, val) {\r\n                    if (result = test.call(null, val, key, obj)) {\r\n                        return false;\r\n                    }\r\n                });\r\n                return !!result;\r\n            },\r\n            mixin: $.extend,\r\n            identity: function(x) {\r\n                return x;\r\n            },\r\n            clone: function(obj) {\r\n                return $.extend(true, {}, obj);\r\n            },\r\n            getIdGenerator: function() {\r\n                var counter = 0;\r\n                return function() {\r\n                    return counter++;\r\n                };\r\n            },\r\n            templatify: function templatify(obj) {\r\n                return $.isFunction(obj) ? obj : template;\r\n                function template() {\r\n                    return String(obj);\r\n                }\r\n            },\r\n            defer: function(fn) {\r\n                setTimeout(fn, 0);\r\n            },\r\n            debounce: function(func, wait, immediate) {\r\n                var timeout, result;\r\n                return function() {\r\n                    var context = this, args = arguments, later, callNow;\r\n                    later = function() {\r\n                        timeout = null;\r\n                        if (!immediate) {\r\n                            result = func.apply(context, args);\r\n                        }\r\n                    };\r\n                    callNow = immediate && !timeout;\r\n                    clearTimeout(timeout);\r\n                    timeout = setTimeout(later, wait);\r\n                    if (callNow) {\r\n                        result = func.apply(context, args);\r\n                    }\r\n                    return result;\r\n                };\r\n            },\r\n            throttle: function(func, wait) {\r\n                var context, args, timeout, result, previous, later;\r\n                previous = 0;\r\n                later = function() {\r\n                    previous = new Date();\r\n                    timeout = null;\r\n                    result = func.apply(context, args);\r\n                };\r\n                return function() {\r\n                    var now = new Date(), remaining = wait - (now - previous);\r\n                    context = this;\r\n                    args = arguments;\r\n                    if (remaining <= 0) {\r\n                        clearTimeout(timeout);\r\n                        timeout = null;\r\n                        previous = now;\r\n                        result = func.apply(context, args);\r\n                    } else if (!timeout) {\r\n                        timeout = setTimeout(later, remaining);\r\n                    }\r\n                    return result;\r\n                };\r\n            },\r\n            stringify: function(val) {\r\n                return _.isString(val) ? val : JSON.stringify(val);\r\n            },\r\n            noop: function() {}\r\n        };\r\n    }();\r\n    var WWW = function() {\r\n        \"use strict\";\r\n        var defaultClassNames = {\r\n            wrapper: \"twitter-typeahead\",\r\n            input: \"tt-input\",\r\n            hint: \"tt-hint\",\r\n            menu: \"tt-menu\",\r\n            dataset: \"tt-dataset\",\r\n            suggestion: \"tt-suggestion\",\r\n            selectable: \"tt-selectable\",\r\n            empty: \"tt-empty\",\r\n            open: \"tt-open\",\r\n            cursor: \"tt-cursor\",\r\n            highlight: \"tt-highlight\"\r\n        };\r\n        return build;\r\n        function build(o) {\r\n            var www, classes;\r\n            classes = _.mixin({}, defaultClassNames, o);\r\n            www = {\r\n                css: buildCss(),\r\n                classes: classes,\r\n                html: buildHtml(classes),\r\n                selectors: buildSelectors(classes)\r\n            };\r\n            return {\r\n                css: www.css,\r\n                html: www.html,\r\n                classes: www.classes,\r\n                selectors: www.selectors,\r\n                mixin: function(o) {\r\n                    _.mixin(o, www);\r\n                }\r\n            };\r\n        }\r\n        function buildHtml(c) {\r\n            return {\r\n                wrapper: '<span class=\"' + c.wrapper + '\"></span>',\r\n                menu: '<div class=\"' + c.menu + '\"></div>'\r\n            };\r\n        }\r\n        function buildSelectors(classes) {\r\n            var selectors = {};\r\n            _.each(classes, function(v, k) {\r\n                selectors[k] = \".\" + v;\r\n            });\r\n            return selectors;\r\n        }\r\n        function buildCss() {\r\n            var css = {\r\n                wrapper: {\r\n                    position: \"relative\",\r\n                    display: \"inline-block\"\r\n                },\r\n                hint: {\r\n                    position: \"absolute\",\r\n                    top: \"0\",\r\n                    left: \"0\",\r\n                    borderColor: \"transparent\",\r\n                    boxShadow: \"none\",\r\n                    opacity: \"1\"\r\n                },\r\n                input: {\r\n                    position: \"relative\",\r\n                    verticalAlign: \"top\",\r\n                    backgroundColor: \"transparent\"\r\n                },\r\n                inputWithNoHint: {\r\n                    position: \"relative\",\r\n                    verticalAlign: \"top\"\r\n                },\r\n                menu: {\r\n                    position: \"absolute\",\r\n                    top: \"100%\",\r\n                    left: \"0\",\r\n                    zIndex: \"100\",\r\n                    display: \"none\"\r\n                },\r\n                ltr: {\r\n                    left: \"0\",\r\n                    right: \"auto\"\r\n                },\r\n                rtl: {\r\n                    left: \"auto\",\r\n                    right: \" 0\"\r\n                }\r\n            };\r\n            if (_.isMsie()) {\r\n                _.mixin(css.input, {\r\n                    backgroundImage: \"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)\"\r\n                });\r\n            }\r\n            return css;\r\n        }\r\n    }();\r\n    var EventBus = function() {\r\n        \"use strict\";\r\n        var namespace, deprecationMap;\r\n        namespace = \"typeahead:\";\r\n        deprecationMap = {\r\n            render: \"rendered\",\r\n            cursorchange: \"cursorchanged\",\r\n            select: \"selected\",\r\n            autocomplete: \"autocompleted\"\r\n        };\r\n        function EventBus(o) {\r\n            if (!o || !o.el) {\r\n                $.error(\"EventBus initialized without el\");\r\n            }\r\n            this.$el = $(o.el);\r\n        }\r\n        _.mixin(EventBus.prototype, {\r\n            _trigger: function(type, args) {\r\n                var $e;\r\n                $e = $.Event(namespace + type);\r\n                (args = args || []).unshift($e);\r\n                this.$el.trigger.apply(this.$el, args);\r\n                return $e;\r\n            },\r\n            before: function(type) {\r\n                var args, $e;\r\n                args = [].slice.call(arguments, 1);\r\n                $e = this._trigger(\"before\" + type, args);\r\n                return $e.isDefaultPrevented();\r\n            },\r\n            trigger: function(type) {\r\n                var deprecatedType;\r\n                this._trigger(type, [].slice.call(arguments, 1));\r\n                if (deprecatedType = deprecationMap[type]) {\r\n                    this._trigger(deprecatedType, [].slice.call(arguments, 1));\r\n                }\r\n            }\r\n        });\r\n        return EventBus;\r\n    }();\r\n    var EventEmitter = function() {\r\n        \"use strict\";\r\n        var splitter = /\\s+/, nextTick = getNextTick();\r\n        return {\r\n            onSync: onSync,\r\n            onAsync: onAsync,\r\n            off: off,\r\n            trigger: trigger\r\n        };\r\n        function on(method, types, cb, context) {\r\n            var type;\r\n            if (!cb) {\r\n                return this;\r\n            }\r\n            types = types.split(splitter);\r\n            cb = context ? bindContext(cb, context) : cb;\r\n            this._callbacks = this._callbacks || {};\r\n            while (type = types.shift()) {\r\n                this._callbacks[type] = this._callbacks[type] || {\r\n                        sync: [],\r\n                        async: []\r\n                    };\r\n                this._callbacks[type][method].push(cb);\r\n            }\r\n            return this;\r\n        }\r\n        function onAsync(types, cb, context) {\r\n            return on.call(this, \"async\", types, cb, context);\r\n        }\r\n        function onSync(types, cb, context) {\r\n            return on.call(this, \"sync\", types, cb, context);\r\n        }\r\n        function off(types) {\r\n            var type;\r\n            if (!this._callbacks) {\r\n                return this;\r\n            }\r\n            types = types.split(splitter);\r\n            while (type = types.shift()) {\r\n                delete this._callbacks[type];\r\n            }\r\n            return this;\r\n        }\r\n        function trigger(types) {\r\n            var type, callbacks, args, syncFlush, asyncFlush;\r\n            if (!this._callbacks) {\r\n                return this;\r\n            }\r\n            types = types.split(splitter);\r\n            args = [].slice.call(arguments, 1);\r\n            while ((type = types.shift()) && (callbacks = this._callbacks[type])) {\r\n                syncFlush = getFlush(callbacks.sync, this, [ type ].concat(args));\r\n                asyncFlush = getFlush(callbacks.async, this, [ type ].concat(args));\r\n                syncFlush() && nextTick(asyncFlush);\r\n            }\r\n            return this;\r\n        }\r\n        function getFlush(callbacks, context, args) {\r\n            return flush;\r\n            function flush() {\r\n                var cancelled;\r\n                for (var i = 0, len = callbacks.length; !cancelled && i < len; i += 1) {\r\n                    cancelled = callbacks[i].apply(context, args) === false;\r\n                }\r\n                return !cancelled;\r\n            }\r\n        }\r\n        function getNextTick() {\r\n            var nextTickFn;\r\n            if (window.setImmediate) {\r\n                nextTickFn = function nextTickSetImmediate(fn) {\r\n                    setImmediate(function() {\r\n                        fn();\r\n                    });\r\n                };\r\n            } else {\r\n                nextTickFn = function nextTickSetTimeout(fn) {\r\n                    setTimeout(function() {\r\n                        fn();\r\n                    }, 0);\r\n                };\r\n            }\r\n            return nextTickFn;\r\n        }\r\n        function bindContext(fn, context) {\r\n            return fn.bind ? fn.bind(context) : function() {\r\n                fn.apply(context, [].slice.call(arguments, 0));\r\n            };\r\n        }\r\n    }();\r\n    var highlight = function(doc) {\r\n        \"use strict\";\r\n        var defaults = {\r\n            node: null,\r\n            pattern: null,\r\n            tagName: \"strong\",\r\n            className: null,\r\n            wordsOnly: false,\r\n            caseSensitive: false\r\n        };\r\n        return function hightlight(o) {\r\n            var regex;\r\n            o = _.mixin({}, defaults, o);\r\n            if (!o.node || !o.pattern) {\r\n                return;\r\n            }\r\n            o.pattern = _.isArray(o.pattern) ? o.pattern : [ o.pattern ];\r\n            regex = getRegex(o.pattern, o.caseSensitive, o.wordsOnly);\r\n            traverse(o.node, hightlightTextNode);\r\n            function hightlightTextNode(textNode) {\r\n                var match, patternNode, wrapperNode;\r\n                if (match = regex.exec(textNode.data)) {\r\n                    wrapperNode = doc.createElement(o.tagName);\r\n                    o.className && (wrapperNode.className = o.className);\r\n                    patternNode = textNode.splitText(match.index);\r\n                    patternNode.splitText(match[0].length);\r\n                    wrapperNode.appendChild(patternNode.cloneNode(true));\r\n                    textNode.parentNode.replaceChild(wrapperNode, patternNode);\r\n                }\r\n                return !!match;\r\n            }\r\n            function traverse(el, hightlightTextNode) {\r\n                var childNode, TEXT_NODE_TYPE = 3;\r\n                for (var i = 0; i < el.childNodes.length; i++) {\r\n                    childNode = el.childNodes[i];\r\n                    if (childNode.nodeType === TEXT_NODE_TYPE) {\r\n                        i += hightlightTextNode(childNode) ? 1 : 0;\r\n                    } else {\r\n                        traverse(childNode, hightlightTextNode);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        function getRegex(patterns, caseSensitive, wordsOnly) {\r\n            var escapedPatterns = [], regexStr;\r\n            for (var i = 0, len = patterns.length; i < len; i++) {\r\n                escapedPatterns.push(_.escapeRegExChars(patterns[i]));\r\n            }\r\n            regexStr = wordsOnly ? \"\\\\b(\" + escapedPatterns.join(\"|\") + \")\\\\b\" : \"(\" + escapedPatterns.join(\"|\") + \")\";\r\n            return caseSensitive ? new RegExp(regexStr) : new RegExp(regexStr, \"i\");\r\n        }\r\n    }(window.document);\r\n    var Input = function() {\r\n        \"use strict\";\r\n        var specialKeyCodeMap;\r\n        specialKeyCodeMap = {\r\n            9: \"tab\",\r\n            27: \"esc\",\r\n            37: \"left\",\r\n            39: \"right\",\r\n            13: \"enter\",\r\n            38: \"up\",\r\n            40: \"down\"\r\n        };\r\n        function Input(o, www) {\r\n            o = o || {};\r\n            if (!o.input) {\r\n                $.error(\"input is missing\");\r\n            }\r\n            www.mixin(this);\r\n            this.$hint = $(o.hint);\r\n            this.$input = $(o.input);\r\n            this.query = this.$input.val();\r\n            this.queryWhenFocused = this.hasFocus() ? this.query : null;\r\n            this.$overflowHelper = buildOverflowHelper(this.$input);\r\n            this._checkLanguageDirection();\r\n            if (this.$hint.length === 0) {\r\n                this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;\r\n            }\r\n        }\r\n        Input.normalizeQuery = function(str) {\r\n            return _.toStr(str).replace(/^\\s*/g, \"\").replace(/\\s{2,}/g, \" \");\r\n        };\r\n        _.mixin(Input.prototype, EventEmitter, {\r\n            _onBlur: function onBlur() {\r\n                this.resetInputValue();\r\n                this.trigger(\"blurred\");\r\n            },\r\n            _onFocus: function onFocus() {\r\n                this.queryWhenFocused = this.query;\r\n                this.trigger(\"focused\");\r\n            },\r\n            _onKeydown: function onKeydown($e) {\r\n                var keyName = specialKeyCodeMap[$e.which || $e.keyCode];\r\n                this._managePreventDefault(keyName, $e);\r\n                if (keyName && this._shouldTrigger(keyName, $e)) {\r\n                    this.trigger(keyName + \"Keyed\", $e);\r\n                }\r\n            },\r\n            _onInput: function onInput() {\r\n                this._setQuery(this.getInputValue());\r\n                this.clearHintIfInvalid();\r\n                this._checkLanguageDirection();\r\n            },\r\n            _managePreventDefault: function managePreventDefault(keyName, $e) {\r\n                var preventDefault;\r\n                switch (keyName) {\r\n                    case \"up\":\r\n                    case \"down\":\r\n                        preventDefault = !withModifier($e);\r\n                        break;\r\n\r\n                    default:\r\n                        preventDefault = false;\r\n                }\r\n                preventDefault && $e.preventDefault();\r\n            },\r\n            _shouldTrigger: function shouldTrigger(keyName, $e) {\r\n                var trigger;\r\n                switch (keyName) {\r\n                    case \"tab\":\r\n                        trigger = !withModifier($e);\r\n                        break;\r\n\r\n                    default:\r\n                        trigger = true;\r\n                }\r\n                return trigger;\r\n            },\r\n            _checkLanguageDirection: function checkLanguageDirection() {\r\n                var dir = (this.$input.css(\"direction\") || \"ltr\").toLowerCase();\r\n                if (this.dir !== dir) {\r\n                    this.dir = dir;\r\n                    this.$hint.attr(\"dir\", dir);\r\n                    this.trigger(\"langDirChanged\", dir);\r\n                }\r\n            },\r\n            _setQuery: function setQuery(val, silent) {\r\n                var areEquivalent, hasDifferentWhitespace;\r\n                areEquivalent = areQueriesEquivalent(val, this.query);\r\n                hasDifferentWhitespace = areEquivalent ? this.query.length !== val.length : false;\r\n                this.query = val;\r\n                if (!silent && !areEquivalent) {\r\n                    this.trigger(\"queryChanged\", this.query);\r\n                } else if (!silent && hasDifferentWhitespace) {\r\n                    this.trigger(\"whitespaceChanged\", this.query);\r\n                }\r\n            },\r\n            bind: function() {\r\n                var that = this, onBlur, onFocus, onKeydown, onInput;\r\n                onBlur = _.bind(this._onBlur, this);\r\n                onFocus = _.bind(this._onFocus, this);\r\n                onKeydown = _.bind(this._onKeydown, this);\r\n                onInput = _.bind(this._onInput, this);\r\n                this.$input.on(\"blur.tt\", onBlur).on(\"focus.tt\", onFocus).on(\"keydown.tt\", onKeydown);\r\n                if (!_.isMsie() || _.isMsie() > 9) {\r\n                    this.$input.on(\"input.tt\", onInput);\r\n                } else {\r\n                    this.$input.on(\"keydown.tt keypress.tt cut.tt paste.tt\", function($e) {\r\n                        if (specialKeyCodeMap[$e.which || $e.keyCode]) {\r\n                            return;\r\n                        }\r\n                        _.defer(_.bind(that._onInput, that, $e));\r\n                    });\r\n                }\r\n                return this;\r\n            },\r\n            focus: function focus() {\r\n                this.$input.focus();\r\n            },\r\n            blur: function blur() {\r\n                this.$input.blur();\r\n            },\r\n            getLangDir: function getLangDir() {\r\n                return this.dir;\r\n            },\r\n            getQuery: function getQuery() {\r\n                return this.query || \"\";\r\n            },\r\n            setQuery: function setQuery(val, silent) {\r\n                this.setInputValue(val);\r\n                this._setQuery(val, silent);\r\n            },\r\n            hasQueryChangedSinceLastFocus: function hasQueryChangedSinceLastFocus() {\r\n                return this.query !== this.queryWhenFocused;\r\n            },\r\n            getInputValue: function getInputValue() {\r\n                return this.$input.val();\r\n            },\r\n            setInputValue: function setInputValue(value) {\r\n                this.$input.val(value);\r\n                this.clearHintIfInvalid();\r\n                this._checkLanguageDirection();\r\n            },\r\n            resetInputValue: function resetInputValue() {\r\n                this.setInputValue(this.query);\r\n            },\r\n            getHint: function getHint() {\r\n                return this.$hint.val();\r\n            },\r\n            setHint: function setHint(value) {\r\n                this.$hint.val(value);\r\n            },\r\n            clearHint: function clearHint() {\r\n                this.setHint(\"\");\r\n            },\r\n            clearHintIfInvalid: function clearHintIfInvalid() {\r\n                var val, hint, valIsPrefixOfHint, isValid;\r\n                val = this.getInputValue();\r\n                hint = this.getHint();\r\n                valIsPrefixOfHint = val !== hint && hint.indexOf(val) === 0;\r\n                isValid = val !== \"\" && valIsPrefixOfHint && !this.hasOverflow();\r\n                !isValid && this.clearHint();\r\n            },\r\n            hasFocus: function hasFocus() {\r\n                return this.$input.is(\":focus\");\r\n            },\r\n            hasOverflow: function hasOverflow() {\r\n                var constraint = this.$input.width() - 2;\r\n                this.$overflowHelper.text(this.getInputValue());\r\n                return this.$overflowHelper.width() >= constraint;\r\n            },\r\n            isCursorAtEnd: function() {\r\n                var valueLength, selectionStart, range;\r\n                valueLength = this.$input.val().length;\r\n                selectionStart = this.$input[0].selectionStart;\r\n                if (_.isNumber(selectionStart)) {\r\n                    return selectionStart === valueLength;\r\n                } else if (document.selection) {\r\n                    range = document.selection.createRange();\r\n                    range.moveStart(\"character\", -valueLength);\r\n                    return valueLength === range.text.length;\r\n                }\r\n                return true;\r\n            },\r\n            destroy: function destroy() {\r\n                this.$hint.off(\".tt\");\r\n                this.$input.off(\".tt\");\r\n                this.$overflowHelper.remove();\r\n                this.$hint = this.$input = this.$overflowHelper = $(\"<div>\");\r\n            }\r\n        });\r\n        return Input;\r\n        function buildOverflowHelper($input) {\r\n            return $('<pre aria-hidden=\"true\"></pre>').css({\r\n                position: \"absolute\",\r\n                visibility: \"hidden\",\r\n                whiteSpace: \"pre\",\r\n                fontFamily: $input.css(\"font-family\"),\r\n                fontSize: $input.css(\"font-size\"),\r\n                fontStyle: $input.css(\"font-style\"),\r\n                fontVariant: $input.css(\"font-variant\"),\r\n                fontWeight: $input.css(\"font-weight\"),\r\n                wordSpacing: $input.css(\"word-spacing\"),\r\n                letterSpacing: $input.css(\"letter-spacing\"),\r\n                textIndent: $input.css(\"text-indent\"),\r\n                textRendering: $input.css(\"text-rendering\"),\r\n                textTransform: $input.css(\"text-transform\")\r\n            }).insertAfter($input);\r\n        }\r\n        function areQueriesEquivalent(a, b) {\r\n            return Input.normalizeQuery(a) === Input.normalizeQuery(b);\r\n        }\r\n        function withModifier($e) {\r\n            return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;\r\n        }\r\n    }();\r\n    var Dataset = function() {\r\n        \"use strict\";\r\n        var keys, nameGenerator;\r\n        keys = {\r\n            val: \"tt-selectable-display\",\r\n            obj: \"tt-selectable-object\"\r\n        };\r\n        nameGenerator = _.getIdGenerator();\r\n        function Dataset(o, www) {\r\n            o = o || {};\r\n            o.templates = o.templates || {};\r\n            o.templates.notFound = o.templates.notFound || o.templates.empty;\r\n            if (!o.source) {\r\n                $.error(\"missing source\");\r\n            }\r\n            if (!o.node) {\r\n                $.error(\"missing node\");\r\n            }\r\n            if (o.name && !isValidName(o.name)) {\r\n                $.error(\"invalid dataset name: \" + o.name);\r\n            }\r\n            www.mixin(this);\r\n            this.highlight = !!o.highlight;\r\n            this.name = o.name || nameGenerator();\r\n            this.limit = o.limit || 5;\r\n            this.displayFn = getDisplayFn(o.display || o.displayKey);\r\n            this.templates = getTemplates(o.templates, this.displayFn);\r\n            this.source = o.source.__ttAdapter ? o.source.__ttAdapter() : o.source;\r\n            this.async = _.isUndefined(o.async) ? this.source.length > 2 : !!o.async;\r\n            this._resetLastSuggestion();\r\n            this.$el = $(o.node).addClass(this.classes.dataset).addClass(this.classes.dataset + \"-\" + this.name);\r\n        }\r\n        Dataset.extractData = function extractData(el) {\r\n            var $el = $(el);\r\n            if ($el.data(keys.obj)) {\r\n                return {\r\n                    val: $el.data(keys.val) || \"\",\r\n                    obj: $el.data(keys.obj) || null\r\n                };\r\n            }\r\n            return null;\r\n        };\r\n        _.mixin(Dataset.prototype, EventEmitter, {\r\n            _overwrite: function overwrite(query, suggestions) {\r\n                suggestions = suggestions || [];\r\n                if (suggestions.length) {\r\n                    this._renderSuggestions(query, suggestions);\r\n                } else if (this.async && this.templates.pending) {\r\n                    this._renderPending(query);\r\n                } else if (!this.async && this.templates.notFound) {\r\n                    this._renderNotFound(query);\r\n                } else {\r\n                    this._empty();\r\n                }\r\n                this.trigger(\"rendered\", this.name, suggestions, false);\r\n            },\r\n            _append: function append(query, suggestions) {\r\n                suggestions = suggestions || [];\r\n                if (suggestions.length && this.$lastSuggestion.length) {\r\n                    this._appendSuggestions(query, suggestions);\r\n                } else if (suggestions.length) {\r\n                    this._renderSuggestions(query, suggestions);\r\n                } else if (!this.$lastSuggestion.length && this.templates.notFound) {\r\n                    this._renderNotFound(query);\r\n                }\r\n                this.trigger(\"rendered\", this.name, suggestions, true);\r\n            },\r\n            _renderSuggestions: function renderSuggestions(query, suggestions) {\r\n                var $fragment;\r\n                $fragment = this._getSuggestionsFragment(query, suggestions);\r\n                this.$lastSuggestion = $fragment.children().last();\r\n                this.$el.html($fragment).prepend(this._getHeader(query, suggestions)).append(this._getFooter(query, suggestions));\r\n            },\r\n            _appendSuggestions: function appendSuggestions(query, suggestions) {\r\n                var $fragment, $lastSuggestion;\r\n                $fragment = this._getSuggestionsFragment(query, suggestions);\r\n                $lastSuggestion = $fragment.children().last();\r\n                this.$lastSuggestion.after($fragment);\r\n                this.$lastSuggestion = $lastSuggestion;\r\n            },\r\n            _renderPending: function renderPending(query) {\r\n                var template = this.templates.pending;\r\n                this._resetLastSuggestion();\r\n                template && this.$el.html(template({\r\n                    query: query,\r\n                    dataset: this.name\r\n                }));\r\n            },\r\n            _renderNotFound: function renderNotFound(query) {\r\n                var template = this.templates.notFound;\r\n                this._resetLastSuggestion();\r\n                template && this.$el.html(template({\r\n                    query: query,\r\n                    dataset: this.name\r\n                }));\r\n            },\r\n            _empty: function empty() {\r\n                this.$el.empty();\r\n                this._resetLastSuggestion();\r\n            },\r\n            _getSuggestionsFragment: function getSuggestionsFragment(query, suggestions) {\r\n                var that = this, fragment;\r\n                fragment = document.createDocumentFragment();\r\n                _.each(suggestions, function getSuggestionNode(suggestion) {\r\n                    var $el, context;\r\n                    context = that._injectQuery(query, suggestion);\r\n                    $el = $(that.templates.suggestion(context)).data(keys.obj, suggestion).data(keys.val, that.displayFn(suggestion)).addClass(that.classes.suggestion + \" \" + that.classes.selectable);\r\n                    fragment.appendChild($el[0]);\r\n                });\r\n                this.highlight && highlight({\r\n                    className: this.classes.highlight,\r\n                    node: fragment,\r\n                    pattern: query\r\n                });\r\n                return $(fragment);\r\n            },\r\n            _getFooter: function getFooter(query, suggestions) {\r\n                return this.templates.footer ? this.templates.footer({\r\n                    query: query,\r\n                    suggestions: suggestions,\r\n                    dataset: this.name\r\n                }) : null;\r\n            },\r\n            _getHeader: function getHeader(query, suggestions) {\r\n                return this.templates.header ? this.templates.header({\r\n                    query: query,\r\n                    suggestions: suggestions,\r\n                    dataset: this.name\r\n                }) : null;\r\n            },\r\n            _resetLastSuggestion: function resetLastSuggestion() {\r\n                this.$lastSuggestion = $();\r\n            },\r\n            _injectQuery: function injectQuery(query, obj) {\r\n                return _.isObject(obj) ? _.mixin({\r\n                    _query: query\r\n                }, obj) : obj;\r\n            },\r\n            update: function update(query) {\r\n                var that = this, canceled = false, syncCalled = false, rendered = 0;\r\n                this.cancel();\r\n                this.cancel = function cancel() {\r\n                    canceled = true;\r\n                    that.cancel = $.noop;\r\n                    that.async && that.trigger(\"asyncCanceled\", query);\r\n                };\r\n                this.source(query, sync, async);\r\n                !syncCalled && sync([]);\r\n                function sync(suggestions) {\r\n                    if (syncCalled) {\r\n                        return;\r\n                    }\r\n                    syncCalled = true;\r\n                    suggestions = (suggestions || []).slice(0, that.limit);\r\n                    rendered = suggestions.length;\r\n                    that._overwrite(query, suggestions);\r\n                    if (rendered < that.limit && that.async) {\r\n                        that.trigger(\"asyncRequested\", query);\r\n                    }\r\n                }\r\n                function async(suggestions) {\r\n                    suggestions = suggestions || [];\r\n                    if (!canceled && rendered < that.limit) {\r\n                        that.cancel = $.noop;\r\n                        rendered += suggestions.length;\r\n                        that._append(query, suggestions.slice(0, that.limit - rendered));\r\n                        that.async && that.trigger(\"asyncReceived\", query);\r\n                    }\r\n                }\r\n            },\r\n            cancel: $.noop,\r\n            clear: function clear() {\r\n                this._empty();\r\n                this.cancel();\r\n                this.trigger(\"cleared\");\r\n            },\r\n            isEmpty: function isEmpty() {\r\n                return this.$el.is(\":empty\");\r\n            },\r\n            destroy: function destroy() {\r\n                this.$el = $(\"<div>\");\r\n            }\r\n        });\r\n        return Dataset;\r\n        function getDisplayFn(display) {\r\n            display = display || _.stringify;\r\n            return _.isFunction(display) ? display : displayFn;\r\n            function displayFn(obj) {\r\n                return obj[display];\r\n            }\r\n        }\r\n        function getTemplates(templates, displayFn) {\r\n            return {\r\n                notFound: templates.notFound && _.templatify(templates.notFound),\r\n                pending: templates.pending && _.templatify(templates.pending),\r\n                header: templates.header && _.templatify(templates.header),\r\n                footer: templates.footer && _.templatify(templates.footer),\r\n                suggestion: templates.suggestion || suggestionTemplate\r\n            };\r\n            function suggestionTemplate(context) {\r\n                return $(\"<div>\").text(displayFn(context));\r\n            }\r\n        }\r\n        function isValidName(str) {\r\n            return /^[_a-zA-Z0-9-]+$/.test(str);\r\n        }\r\n    }();\r\n    var Menu = function() {\r\n        \"use strict\";\r\n        function Menu(o, www) {\r\n            var that = this;\r\n            o = o || {};\r\n            if (!o.node) {\r\n                $.error(\"node is required\");\r\n            }\r\n            www.mixin(this);\r\n            this.$node = $(o.node);\r\n            this.query = null;\r\n            this.datasets = _.map(o.datasets, initializeDataset);\r\n            function initializeDataset(oDataset) {\r\n                var node = that.$node.find(oDataset.node).first();\r\n                oDataset.node = node.length ? node : $(\"<div>\").appendTo(that.$node);\r\n                return new Dataset(oDataset, www);\r\n            }\r\n        }\r\n        _.mixin(Menu.prototype, EventEmitter, {\r\n            _onSelectableClick: function onSelectableClick($e) {\r\n                this.trigger(\"selectableClicked\", $($e.currentTarget));\r\n            },\r\n            _onRendered: function onRendered(type, dataset, suggestions, async) {\r\n                this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());\r\n                this.trigger(\"datasetRendered\", dataset, suggestions, async);\r\n            },\r\n            _onCleared: function onCleared() {\r\n                this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());\r\n                this.trigger(\"datasetCleared\");\r\n            },\r\n            _propagate: function propagate() {\r\n                this.trigger.apply(this, arguments);\r\n            },\r\n            _allDatasetsEmpty: function allDatasetsEmpty() {\r\n                return _.every(this.datasets, isDatasetEmpty);\r\n                function isDatasetEmpty(dataset) {\r\n                    return dataset.isEmpty();\r\n                }\r\n            },\r\n            _getSelectables: function getSelectables() {\r\n                return this.$node.find(this.selectors.selectable);\r\n            },\r\n            _removeCursor: function _removeCursor() {\r\n                var $selectable = this.getActiveSelectable();\r\n                $selectable && $selectable.removeClass(this.classes.cursor);\r\n            },\r\n            _ensureVisible: function ensureVisible($el) {\r\n                var elTop, elBottom, nodeScrollTop, nodeHeight;\r\n                elTop = $el.position().top;\r\n                elBottom = elTop + $el.outerHeight(true);\r\n                nodeScrollTop = this.$node.scrollTop();\r\n                nodeHeight = this.$node.height() + parseInt(this.$node.css(\"paddingTop\"), 10) + parseInt(this.$node.css(\"paddingBottom\"), 10);\r\n                if (elTop < 0) {\r\n                    this.$node.scrollTop(nodeScrollTop + elTop);\r\n                } else if (nodeHeight < elBottom) {\r\n                    this.$node.scrollTop(nodeScrollTop + (elBottom - nodeHeight));\r\n                }\r\n            },\r\n            bind: function() {\r\n                var that = this, onSelectableClick;\r\n                onSelectableClick = _.bind(this._onSelectableClick, this);\r\n                this.$node.on(\"click.tt\", this.selectors.selectable, onSelectableClick);\r\n                _.each(this.datasets, function(dataset) {\r\n                    dataset.onSync(\"asyncRequested\", that._propagate, that).onSync(\"asyncCanceled\", that._propagate, that).onSync(\"asyncReceived\", that._propagate, that).onSync(\"rendered\", that._onRendered, that).onSync(\"cleared\", that._onCleared, that);\r\n                });\r\n                return this;\r\n            },\r\n            isOpen: function isOpen() {\r\n                return this.$node.hasClass(this.classes.open);\r\n            },\r\n            open: function open() {\r\n                this.$node.addClass(this.classes.open);\r\n            },\r\n            close: function close() {\r\n                this.$node.removeClass(this.classes.open);\r\n                this._removeCursor();\r\n            },\r\n            setLanguageDirection: function setLanguageDirection(dir) {\r\n                this.$node.attr(\"dir\", dir);\r\n            },\r\n            selectableRelativeToCursor: function selectableRelativeToCursor(delta) {\r\n                var $selectables, $oldCursor, oldIndex, newIndex;\r\n                $oldCursor = this.getActiveSelectable();\r\n                $selectables = this._getSelectables();\r\n                oldIndex = $oldCursor ? $selectables.index($oldCursor) : -1;\r\n                newIndex = oldIndex + delta;\r\n                newIndex = (newIndex + 1) % ($selectables.length + 1) - 1;\r\n                newIndex = newIndex < -1 ? $selectables.length - 1 : newIndex;\r\n                return newIndex === -1 ? null : $selectables.eq(newIndex);\r\n            },\r\n            setCursor: function setCursor($selectable) {\r\n                this._removeCursor();\r\n                if ($selectable = $selectable && $selectable.first()) {\r\n                    $selectable.addClass(this.classes.cursor);\r\n                    this._ensureVisible($selectable);\r\n                }\r\n            },\r\n            getSelectableData: function getSelectableData($el) {\r\n                return $el && $el.length ? Dataset.extractData($el) : null;\r\n            },\r\n            getActiveSelectable: function getActiveSelectable() {\r\n                var $selectable = this._getSelectables().filter(this.selectors.cursor).first();\r\n                return $selectable.length ? $selectable : null;\r\n            },\r\n            getTopSelectable: function getTopSelectable() {\r\n                var $selectable = this._getSelectables().first();\r\n                return $selectable.length ? $selectable : null;\r\n            },\r\n            update: function update(query) {\r\n                var isValidUpdate = query !== this.query;\r\n                if (isValidUpdate) {\r\n                    this.query = query;\r\n                    _.each(this.datasets, updateDataset);\r\n                }\r\n                return isValidUpdate;\r\n                function updateDataset(dataset) {\r\n                    dataset.update(query);\r\n                }\r\n            },\r\n            empty: function empty() {\r\n                _.each(this.datasets, clearDataset);\r\n                this.query = null;\r\n                this.$node.addClass(this.classes.empty);\r\n                function clearDataset(dataset) {\r\n                    dataset.clear();\r\n                }\r\n            },\r\n            destroy: function destroy() {\r\n                this.$node.off(\".tt\");\r\n                this.$node = $(\"<div>\");\r\n                _.each(this.datasets, destroyDataset);\r\n                function destroyDataset(dataset) {\r\n                    dataset.destroy();\r\n                }\r\n            }\r\n        });\r\n        return Menu;\r\n    }();\r\n    var DefaultMenu = function() {\r\n        \"use strict\";\r\n        var s = Menu.prototype;\r\n        function DefaultMenu() {\r\n            Menu.apply(this, [].slice.call(arguments, 0));\r\n        }\r\n        _.mixin(DefaultMenu.prototype, Menu.prototype, {\r\n            open: function open() {\r\n                !this._allDatasetsEmpty() && this._show();\r\n                return s.open.apply(this, [].slice.call(arguments, 0));\r\n            },\r\n            close: function close() {\r\n                this._hide();\r\n                return s.close.apply(this, [].slice.call(arguments, 0));\r\n            },\r\n            _onRendered: function onRendered() {\r\n                if (this._allDatasetsEmpty()) {\r\n                    this._hide();\r\n                } else {\r\n                    this.isOpen() && this._show();\r\n                }\r\n                return s._onRendered.apply(this, [].slice.call(arguments, 0));\r\n            },\r\n            _onCleared: function onCleared() {\r\n                if (this._allDatasetsEmpty()) {\r\n                    this._hide();\r\n                } else {\r\n                    this.isOpen() && this._show();\r\n                }\r\n                return s._onCleared.apply(this, [].slice.call(arguments, 0));\r\n            },\r\n            setLanguageDirection: function setLanguageDirection(dir) {\r\n                this.$node.css(dir === \"ltr\" ? this.css.ltr : this.css.rtl);\r\n                return s.setLanguageDirection.apply(this, [].slice.call(arguments, 0));\r\n            },\r\n            _hide: function hide() {\r\n                this.$node.hide();\r\n            },\r\n            _show: function show() {\r\n                this.$node.css(\"display\", \"block\");\r\n            }\r\n        });\r\n        return DefaultMenu;\r\n    }();\r\n    var Typeahead = function() {\r\n        \"use strict\";\r\n        function Typeahead(o, www) {\r\n            var onFocused, onBlurred, onEnterKeyed, onTabKeyed, onEscKeyed, onUpKeyed, onDownKeyed, onLeftKeyed, onRightKeyed, onQueryChanged, onWhitespaceChanged;\r\n            o = o || {};\r\n            if (!o.input) {\r\n                $.error(\"missing input\");\r\n            }\r\n            if (!o.menu) {\r\n                $.error(\"missing menu\");\r\n            }\r\n            if (!o.eventBus) {\r\n                $.error(\"missing event bus\");\r\n            }\r\n            www.mixin(this);\r\n            this.eventBus = o.eventBus;\r\n            this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;\r\n            this.input = o.input;\r\n            this.menu = o.menu;\r\n            this.enabled = true;\r\n            this.active = false;\r\n            this.input.hasFocus() && this.activate();\r\n            this.dir = this.input.getLangDir();\r\n            this._hacks();\r\n            this.menu.bind().onSync(\"selectableClicked\", this._onSelectableClicked, this).onSync(\"asyncRequested\", this._onAsyncRequested, this).onSync(\"asyncCanceled\", this._onAsyncCanceled, this).onSync(\"asyncReceived\", this._onAsyncReceived, this).onSync(\"datasetRendered\", this._onDatasetRendered, this).onSync(\"datasetCleared\", this._onDatasetCleared, this);\r\n            onFocused = c(this, \"activate\", \"open\", \"_onFocused\");\r\n            onBlurred = c(this, \"deactivate\", \"_onBlurred\");\r\n            onEnterKeyed = c(this, \"isActive\", \"isOpen\", \"_onEnterKeyed\");\r\n            onTabKeyed = c(this, \"isActive\", \"isOpen\", \"_onTabKeyed\");\r\n            onEscKeyed = c(this, \"isActive\", \"_onEscKeyed\");\r\n            onUpKeyed = c(this, \"isActive\", \"open\", \"_onUpKeyed\");\r\n            onDownKeyed = c(this, \"isActive\", \"open\", \"_onDownKeyed\");\r\n            onLeftKeyed = c(this, \"isActive\", \"isOpen\", \"_onLeftKeyed\");\r\n            onRightKeyed = c(this, \"isActive\", \"isOpen\", \"_onRightKeyed\");\r\n            onQueryChanged = c(this, \"_openIfActive\", \"_onQueryChanged\");\r\n            onWhitespaceChanged = c(this, \"_openIfActive\", \"_onWhitespaceChanged\");\r\n            this.input.bind().onSync(\"focused\", onFocused, this).onSync(\"blurred\", onBlurred, this).onSync(\"enterKeyed\", onEnterKeyed, this).onSync(\"tabKeyed\", onTabKeyed, this).onSync(\"escKeyed\", onEscKeyed, this).onSync(\"upKeyed\", onUpKeyed, this).onSync(\"downKeyed\", onDownKeyed, this).onSync(\"leftKeyed\", onLeftKeyed, this).onSync(\"rightKeyed\", onRightKeyed, this).onSync(\"queryChanged\", onQueryChanged, this).onSync(\"whitespaceChanged\", onWhitespaceChanged, this).onSync(\"langDirChanged\", this._onLangDirChanged, this);\r\n        }\r\n        _.mixin(Typeahead.prototype, {\r\n            _hacks: function hacks() {\r\n                var $input, $menu;\r\n                $input = this.input.$input || $(\"<div>\");\r\n                $menu = this.menu.$node || $(\"<div>\");\r\n                $input.on(\"blur.tt\", function($e) {\r\n                    var active, isActive, hasActive;\r\n                    active = document.activeElement;\r\n                    isActive = $menu.is(active);\r\n                    hasActive = $menu.has(active).length > 0;\r\n                    if (_.isMsie() && (isActive || hasActive)) {\r\n                        $e.preventDefault();\r\n                        $e.stopImmediatePropagation();\r\n                        _.defer(function() {\r\n                            $input.focus();\r\n                        });\r\n                    }\r\n                });\r\n                $menu.on(\"mousedown.tt\", function($e) {\r\n                    $e.preventDefault();\r\n                });\r\n            },\r\n            _onSelectableClicked: function onSelectableClicked(type, $el) {\r\n                this.select($el);\r\n            },\r\n            _onDatasetCleared: function onDatasetCleared() {\r\n                this._updateHint();\r\n            },\r\n            _onDatasetRendered: function onDatasetRendered(type, dataset, suggestions, async) {\r\n                this._updateHint();\r\n                this.eventBus.trigger(\"render\", suggestions, async, dataset);\r\n            },\r\n            _onAsyncRequested: function onAsyncRequested(type, dataset, query) {\r\n                this.eventBus.trigger(\"asyncrequest\", query, dataset);\r\n            },\r\n            _onAsyncCanceled: function onAsyncCanceled(type, dataset, query) {\r\n                this.eventBus.trigger(\"asynccancel\", query, dataset);\r\n            },\r\n            _onAsyncReceived: function onAsyncReceived(type, dataset, query) {\r\n                this.eventBus.trigger(\"asyncreceive\", query, dataset);\r\n            },\r\n            _onFocused: function onFocused() {\r\n                this._minLengthMet() && this.menu.update(this.input.getQuery());\r\n            },\r\n            _onBlurred: function onBlurred() {\r\n                if (this.input.hasQueryChangedSinceLastFocus()) {\r\n                    this.eventBus.trigger(\"change\", this.input.getQuery());\r\n                }\r\n            },\r\n            _onEnterKeyed: function onEnterKeyed(type, $e) {\r\n                var $selectable;\r\n                if ($selectable = this.menu.getActiveSelectable()) {\r\n                    this.select($selectable) && $e.preventDefault();\r\n                }\r\n            },\r\n            _onTabKeyed: function onTabKeyed(type, $e) {\r\n                var $selectable;\r\n                if ($selectable = this.menu.getActiveSelectable()) {\r\n                    this.select($selectable) && $e.preventDefault();\r\n                } else if ($selectable = this.menu.getTopSelectable()) {\r\n                    this.autocomplete($selectable) && $e.preventDefault();\r\n                }\r\n            },\r\n            _onEscKeyed: function onEscKeyed() {\r\n                this.close();\r\n            },\r\n            _onUpKeyed: function onUpKeyed() {\r\n                this.moveCursor(-1);\r\n            },\r\n            _onDownKeyed: function onDownKeyed() {\r\n                this.moveCursor(+1);\r\n            },\r\n            _onLeftKeyed: function onLeftKeyed() {\r\n                if (this.dir === \"rtl\" && this.input.isCursorAtEnd()) {\r\n                    this.autocomplete(this.menu.getTopSelectable());\r\n                }\r\n            },\r\n            _onRightKeyed: function onRightKeyed() {\r\n                if (this.dir === \"ltr\" && this.input.isCursorAtEnd()) {\r\n                    this.autocomplete(this.menu.getTopSelectable());\r\n                }\r\n            },\r\n            _onQueryChanged: function onQueryChanged(e, query) {\r\n                this._minLengthMet(query) ? this.menu.update(query) : this.menu.empty();\r\n            },\r\n            _onWhitespaceChanged: function onWhitespaceChanged() {\r\n                this._updateHint();\r\n            },\r\n            _onLangDirChanged: function onLangDirChanged(e, dir) {\r\n                if (this.dir !== dir) {\r\n                    this.dir = dir;\r\n                    this.menu.setLanguageDirection(dir);\r\n                }\r\n            },\r\n            _openIfActive: function openIfActive() {\r\n                this.isActive() && this.open();\r\n            },\r\n            _minLengthMet: function minLengthMet(query) {\r\n                query = _.isString(query) ? query : this.input.getQuery() || \"\";\r\n                return query.length >= this.minLength;\r\n            },\r\n            _updateHint: function updateHint() {\r\n                var $selectable, data, val, query, escapedQuery, frontMatchRegEx, match;\r\n                $selectable = this.menu.getTopSelectable();\r\n                data = this.menu.getSelectableData($selectable);\r\n                val = this.input.getInputValue();\r\n                if (data && !_.isBlankString(val) && !this.input.hasOverflow()) {\r\n                    query = Input.normalizeQuery(val);\r\n                    escapedQuery = _.escapeRegExChars(query);\r\n                    frontMatchRegEx = new RegExp(\"^(?:\" + escapedQuery + \")(.+$)\", \"i\");\r\n                    match = frontMatchRegEx.exec(data.val);\r\n                    match && this.input.setHint(val + match[1]);\r\n                } else {\r\n                    this.input.clearHint();\r\n                }\r\n            },\r\n            isEnabled: function isEnabled() {\r\n                return this.enabled;\r\n            },\r\n            enable: function enable() {\r\n                this.enabled = true;\r\n            },\r\n            disable: function disable() {\r\n                this.enabled = false;\r\n            },\r\n            isActive: function isActive() {\r\n                return this.active;\r\n            },\r\n            activate: function activate() {\r\n                if (this.isActive()) {\r\n                    return true;\r\n                } else if (!this.isEnabled() || this.eventBus.before(\"active\")) {\r\n                    return false;\r\n                } else {\r\n                    this.active = true;\r\n                    this.eventBus.trigger(\"active\");\r\n                    return true;\r\n                }\r\n            },\r\n            deactivate: function deactivate() {\r\n                if (!this.isActive()) {\r\n                    return true;\r\n                } else if (this.eventBus.before(\"idle\")) {\r\n                    return false;\r\n                } else {\r\n                    this.active = false;\r\n                    this.close();\r\n                    this.eventBus.trigger(\"idle\");\r\n                    return true;\r\n                }\r\n            },\r\n            isOpen: function isOpen() {\r\n                return this.menu.isOpen();\r\n            },\r\n            open: function open() {\r\n                if (!this.isOpen() && !this.eventBus.before(\"open\")) {\r\n                    this.menu.open();\r\n                    this._updateHint();\r\n                    this.eventBus.trigger(\"open\");\r\n                }\r\n                return this.isOpen();\r\n            },\r\n            close: function close() {\r\n                if (this.isOpen() && !this.eventBus.before(\"close\")) {\r\n                    this.menu.close();\r\n                    this.input.clearHint();\r\n                    this.input.resetInputValue();\r\n                    this.eventBus.trigger(\"close\");\r\n                }\r\n                return !this.isOpen();\r\n            },\r\n            setVal: function setVal(val) {\r\n                this.input.setQuery(_.toStr(val));\r\n            },\r\n            getVal: function getVal() {\r\n                return this.input.getQuery();\r\n            },\r\n            select: function select($selectable) {\r\n                var data = this.menu.getSelectableData($selectable);\r\n                if (data && !this.eventBus.before(\"select\", data.obj)) {\r\n                    this.input.setQuery(data.val, true);\r\n                    this.eventBus.trigger(\"select\", data.obj);\r\n                    this.close();\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n            autocomplete: function autocomplete($selectable) {\r\n                var query, data, isValid;\r\n                query = this.input.getQuery();\r\n                data = this.menu.getSelectableData($selectable);\r\n                isValid = data && query !== data.val;\r\n                if (isValid && !this.eventBus.before(\"autocomplete\", data.obj)) {\r\n                    this.input.setQuery(data.val);\r\n                    this.eventBus.trigger(\"autocomplete\", data.obj);\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n            moveCursor: function moveCursor(delta) {\r\n                var query, $candidate, data, payload, cancelMove;\r\n                query = this.input.getQuery();\r\n                $candidate = this.menu.selectableRelativeToCursor(delta);\r\n                data = this.menu.getSelectableData($candidate);\r\n                payload = data ? data.obj : null;\r\n                cancelMove = this._minLengthMet() && this.menu.update(query);\r\n                if (!cancelMove && !this.eventBus.before(\"cursorchange\", payload)) {\r\n                    this.menu.setCursor($candidate);\r\n                    if (data) {\r\n                        this.input.setInputValue(data.val);\r\n                    } else {\r\n                        this.input.resetInputValue();\r\n                        this._updateHint();\r\n                    }\r\n                    this.eventBus.trigger(\"cursorchange\", payload);\r\n                    return true;\r\n                }\r\n                return false;\r\n            },\r\n            destroy: function destroy() {\r\n                this.input.destroy();\r\n                this.menu.destroy();\r\n            }\r\n        });\r\n        return Typeahead;\r\n        function c(ctx) {\r\n            var methods = [].slice.call(arguments, 1);\r\n            return function() {\r\n                var args = [].slice.call(arguments);\r\n                _.each(methods, function(method) {\r\n                    return ctx[method].apply(ctx, args);\r\n                });\r\n            };\r\n        }\r\n    }();\r\n    (function() {\r\n        \"use strict\";\r\n        var old, keys, methods;\r\n        old = $.fn.typeahead;\r\n        keys = {\r\n            www: \"tt-www\",\r\n            attrs: \"tt-attrs\",\r\n            typeahead: \"tt-typeahead\"\r\n        };\r\n        methods = {\r\n            initialize: function initialize(o, datasets) {\r\n                var www;\r\n                datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 1);\r\n                o = o || {};\r\n                www = WWW(o.classNames);\r\n                return this.each(attach);\r\n                function attach() {\r\n                    var $input, $wrapper, $hint, $menu, defaultHint, defaultMenu, eventBus, input, menu, typeahead, MenuConstructor;\r\n                    _.each(datasets, function(d) {\r\n                        d.highlight = !!o.highlight;\r\n                    });\r\n                    $input = $(this);\r\n                    $wrapper = $(www.html.wrapper);\r\n                    $hint = $elOrNull(o.hint);\r\n                    $menu = $elOrNull(o.menu);\r\n                    defaultHint = o.hint !== false && !$hint;\r\n                    defaultMenu = o.menu !== false && !$menu;\r\n                    defaultHint && ($hint = buildHintFromInput($input, www));\r\n                    defaultMenu && ($menu = $(www.html.menu).css(www.css.menu));\r\n                    $hint && $hint.val(\"\");\r\n                    $input = prepInput($input, www);\r\n                    if (defaultHint || defaultMenu) {\r\n                        $wrapper.css(www.css.wrapper);\r\n                        $input.css(defaultHint ? www.css.input : www.css.inputWithNoHint);\r\n                        $input.wrap($wrapper).parent().prepend(defaultHint ? $hint : null).append(defaultMenu ? $menu : null);\r\n                    }\r\n                    MenuConstructor = defaultMenu ? DefaultMenu : Menu;\r\n                    eventBus = new EventBus({\r\n                        el: $input\r\n                    });\r\n                    input = new Input({\r\n                        hint: $hint,\r\n                        input: $input\r\n                    }, www);\r\n                    menu = new MenuConstructor({\r\n                        node: $menu,\r\n                        datasets: datasets\r\n                    }, www);\r\n                    typeahead = new Typeahead({\r\n                        input: input,\r\n                        menu: menu,\r\n                        eventBus: eventBus,\r\n                        minLength: o.minLength\r\n                    }, www);\r\n                    $input.data(keys.www, www);\r\n                    $input.data(keys.typeahead, typeahead);\r\n                }\r\n            },\r\n            isEnabled: function isEnabled() {\r\n                var enabled;\r\n                ttEach(this.first(), function(t) {\r\n                    enabled = t.isEnabled();\r\n                });\r\n                return enabled;\r\n            },\r\n            enable: function enable() {\r\n                ttEach(this, function(t) {\r\n                    t.enable();\r\n                });\r\n                return this;\r\n            },\r\n            disable: function disable() {\r\n                ttEach(this, function(t) {\r\n                    t.disable();\r\n                });\r\n                return this;\r\n            },\r\n            isActive: function isActive() {\r\n                var active;\r\n                ttEach(this.first(), function(t) {\r\n                    active = t.isActive();\r\n                });\r\n                return active;\r\n            },\r\n            activate: function activate() {\r\n                ttEach(this, function(t) {\r\n                    t.activate();\r\n                });\r\n                return this;\r\n            },\r\n            deactivate: function deactivate() {\r\n                ttEach(this, function(t) {\r\n                    t.deactivate();\r\n                });\r\n                return this;\r\n            },\r\n            isOpen: function isOpen() {\r\n                var open;\r\n                ttEach(this.first(), function(t) {\r\n                    open = t.isOpen();\r\n                });\r\n                return open;\r\n            },\r\n            open: function open() {\r\n                ttEach(this, function(t) {\r\n                    t.open();\r\n                });\r\n                return this;\r\n            },\r\n            close: function close() {\r\n                ttEach(this, function(t) {\r\n                    t.close();\r\n                });\r\n                return this;\r\n            },\r\n            select: function select(el) {\r\n                var success = false, $el = $(el);\r\n                ttEach(this.first(), function(t) {\r\n                    success = t.select($el);\r\n                });\r\n                return success;\r\n            },\r\n            autocomplete: function autocomplete(el) {\r\n                var success = false, $el = $(el);\r\n                ttEach(this.first(), function(t) {\r\n                    success = t.autocomplete($el);\r\n                });\r\n                return success;\r\n            },\r\n            moveCursor: function moveCursoe(delta) {\r\n                var success = false;\r\n                ttEach(this.first(), function(t) {\r\n                    success = t.moveCursor(delta);\r\n                });\r\n                return success;\r\n            },\r\n            val: function val(newVal) {\r\n                var query;\r\n                if (!arguments.length) {\r\n                    ttEach(this.first(), function(t) {\r\n                        query = t.getVal();\r\n                    });\r\n                    return query;\r\n                } else {\r\n                    ttEach(this, function(t) {\r\n                        t.setVal(newVal);\r\n                    });\r\n                    return this;\r\n                }\r\n            },\r\n            destroy: function destroy() {\r\n                ttEach(this, function(typeahead, $input) {\r\n                    revert($input);\r\n                    typeahead.destroy();\r\n                });\r\n                return this;\r\n            }\r\n        };\r\n        $.fn.typeahead = function(method) {\r\n            if (methods[method]) {\r\n                return methods[method].apply(this, [].slice.call(arguments, 1));\r\n            } else {\r\n                return methods.initialize.apply(this, arguments);\r\n            }\r\n        };\r\n        $.fn.typeahead.noConflict = function noConflict() {\r\n            $.fn.typeahead = old;\r\n            return this;\r\n        };\r\n        function ttEach($els, fn) {\r\n            $els.each(function() {\r\n                var $input = $(this), typeahead;\r\n                (typeahead = $input.data(keys.typeahead)) && fn(typeahead, $input);\r\n            });\r\n        }\r\n        function buildHintFromInput($input, www) {\r\n            return $input.clone().addClass(www.classes.hint).removeData().css(www.css.hint).css(getBackgroundStyles($input)).prop(\"readonly\", true).removeAttr(\"id name placeholder required\").attr({\r\n                autocomplete: \"off\",\r\n                spellcheck: \"false\",\r\n                tabindex: -1\r\n            });\r\n        }\r\n        function prepInput($input, www) {\r\n            $input.data(keys.attrs, {\r\n                dir: $input.attr(\"dir\"),\r\n                autocomplete: $input.attr(\"autocomplete\"),\r\n                spellcheck: $input.attr(\"spellcheck\"),\r\n                style: $input.attr(\"style\")\r\n            });\r\n            $input.addClass(www.classes.input).attr({\r\n                autocomplete: \"off\",\r\n                spellcheck: false\r\n            });\r\n            try {\r\n                !$input.attr(\"dir\") && $input.attr(\"dir\", \"auto\");\r\n            } catch (e) {}\r\n            return $input;\r\n        }\r\n        function getBackgroundStyles($el) {\r\n            return {\r\n                backgroundAttachment: $el.css(\"background-attachment\"),\r\n                backgroundClip: $el.css(\"background-clip\"),\r\n                backgroundColor: $el.css(\"background-color\"),\r\n                backgroundImage: $el.css(\"background-image\"),\r\n                backgroundOrigin: $el.css(\"background-origin\"),\r\n                backgroundPosition: $el.css(\"background-position\"),\r\n                backgroundRepeat: $el.css(\"background-repeat\"),\r\n                backgroundSize: $el.css(\"background-size\")\r\n            };\r\n        }\r\n        function revert($input) {\r\n            var www, $wrapper;\r\n            www = $input.data(keys.www);\r\n            $wrapper = $input.parent().filter(www.selectors.wrapper);\r\n            _.each($input.data(keys.attrs), function(val, key) {\r\n                _.isUndefined(val) ? $input.removeAttr(key) : $input.attr(key, val);\r\n            });\r\n            $input.removeData(keys.typeahead).removeData(keys.www).removeData(keys.attr).removeClass(www.classes.input);\r\n            if ($wrapper.length) {\r\n                $input.detach().insertAfter($wrapper);\r\n                $wrapper.remove();\r\n            }\r\n        }\r\n        function $elOrNull(obj) {\r\n            var isValid, $el;\r\n            isValid = _.isJQuery(obj) || _.isElement(obj);\r\n            $el = isValid ? $(obj).first() : [];\r\n            return $el.length ? $el : null;\r\n        }\r\n    })();\r\n});","/*!\n * Datepicker for Bootstrap v1.6.4 (https://github.com/eternicode/bootstrap-datepicker)\n *\n * Copyright 2012 Stefan Petre\n * Improvements by Andrew Rowls\n * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)\n */\n!function(a){\"function\"==typeof define&&define.amd?define([\"jquery\"],a):a(\"object\"==typeof exports?require(\"jquery\"):jQuery)}(function(a,b){function c(){return new Date(Date.UTC.apply(Date,arguments))}function d(){var a=new Date;return c(a.getFullYear(),a.getMonth(),a.getDate())}function e(a,b){return a.getUTCFullYear()===b.getUTCFullYear()&&a.getUTCMonth()===b.getUTCMonth()&&a.getUTCDate()===b.getUTCDate()}function f(a){return function(){return this[a].apply(this,arguments)}}function g(a){return a&&!isNaN(a.getTime())}function h(b,c){function d(a,b){return b.toLowerCase()}var e,f=a(b).data(),g={},h=new RegExp(\"^\"+c.toLowerCase()+\"([A-Z])\");c=new RegExp(\"^\"+c.toLowerCase());for(var i in f)c.test(i)&&(e=i.replace(h,d),g[e]=f[i]);return g}function i(b){var c={};if(q[b]||(b=b.split(\"-\")[0],q[b])){var d=q[b];return a.each(p,function(a,b){b in d&&(c[b]=d[b])}),c}}var j=function(){var b={get:function(a){return this.slice(a)[0]},contains:function(a){for(var b=a&&a.valueOf(),c=0,d=this.length;d>c;c++)if(this[c].valueOf()===b)return c;return-1},remove:function(a){this.splice(a,1)},replace:function(b){b&&(a.isArray(b)||(b=[b]),this.clear(),this.push.apply(this,b))},clear:function(){this.length=0},copy:function(){var a=new j;return a.replace(this),a}};return function(){var c=[];return c.push.apply(c,arguments),a.extend(c,b),c}}(),k=function(b,c){a(b).data(\"datepicker\",this),this._process_options(c),this.dates=new j,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=a(b),this.isInput=this.element.is(\"input\"),this.inputField=this.isInput?this.element:this.element.find(\"input\"),this.component=this.element.hasClass(\"date\")?this.element.find(\".add-on, .input-group-addon, .btn\"):!1,this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is(\"div\"),this.picker=a(r.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(\".prev\").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(\".next\").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass(\"datepicker-inline\").appendTo(this.element):this.picker.addClass(\"datepicker-dropdown dropdown-menu\"),this.o.rtl&&this.picker.addClass(\"datepicker-rtl\"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find(\"thead .datepicker-title, tfoot .today, tfoot .clear\").attr(\"colspan\",function(a,b){return parseInt(b)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};k.prototype={constructor:k,_resolveViewName:function(a,c){return 0===a||\"days\"===a||\"month\"===a?0:1===a||\"months\"===a||\"year\"===a?1:2===a||\"years\"===a||\"decade\"===a?2:3===a||\"decades\"===a||\"century\"===a?3:4===a||\"centuries\"===a||\"millennium\"===a?4:c===b?!1:c},_check_template:function(c){try{if(c===b||\"\"===c)return!1;if((c.match(/[<>]/g)||[]).length<=0)return!0;var d=a(c);return d.length>0}catch(e){return!1}},_process_options:function(b){this._o=a.extend({},this._o,b);var e=this.o=a.extend({},this._o),f=e.language;q[f]||(f=f.split(\"-\")[0],q[f]||(f=o.language)),e.language=f,e.startView=this._resolveViewName(e.startView,0),e.minViewMode=this._resolveViewName(e.minViewMode,0),e.maxViewMode=this._resolveViewName(e.maxViewMode,4),e.startView=Math.min(e.startView,e.maxViewMode),e.startView=Math.max(e.startView,e.minViewMode),e.multidate!==!0&&(e.multidate=Number(e.multidate)||!1,e.multidate!==!1&&(e.multidate=Math.max(0,e.multidate))),e.multidateSeparator=String(e.multidateSeparator),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var g=r.parseFormat(e.format);e.startDate!==-(1/0)&&(e.startDate?e.startDate instanceof Date?e.startDate=this._local_to_utc(this._zero_time(e.startDate)):e.startDate=r.parseDate(e.startDate,g,e.language,e.assumeNearbyYear):e.startDate=-(1/0)),e.endDate!==1/0&&(e.endDate?e.endDate instanceof Date?e.endDate=this._local_to_utc(this._zero_time(e.endDate)):e.endDate=r.parseDate(e.endDate,g,e.language,e.assumeNearbyYear):e.endDate=1/0),e.daysOfWeekDisabled=e.daysOfWeekDisabled||[],a.isArray(e.daysOfWeekDisabled)||(e.daysOfWeekDisabled=e.daysOfWeekDisabled.split(/[,\\s]*/)),e.daysOfWeekDisabled=a.map(e.daysOfWeekDisabled,function(a){return parseInt(a,10)}),e.daysOfWeekHighlighted=e.daysOfWeekHighlighted||[],a.isArray(e.daysOfWeekHighlighted)||(e.daysOfWeekHighlighted=e.daysOfWeekHighlighted.split(/[,\\s]*/)),e.daysOfWeekHighlighted=a.map(e.daysOfWeekHighlighted,function(a){return parseInt(a,10)}),e.datesDisabled=e.datesDisabled||[],a.isArray(e.datesDisabled)||(e.datesDisabled=[e.datesDisabled]),e.datesDisabled=a.map(e.datesDisabled,function(a){return r.parseDate(a,g,e.language,e.assumeNearbyYear)});var h=String(e.orientation).toLowerCase().split(/\\s+/g),i=e.orientation.toLowerCase();if(h=a.grep(h,function(a){return/^auto|left|right|top|bottom$/.test(a)}),e.orientation={x:\"auto\",y:\"auto\"},i&&\"auto\"!==i)if(1===h.length)switch(h[0]){case\"top\":case\"bottom\":e.orientation.y=h[0];break;case\"left\":case\"right\":e.orientation.x=h[0]}else i=a.grep(h,function(a){return/^left|right$/.test(a)}),e.orientation.x=i[0]||\"auto\",i=a.grep(h,function(a){return/^top|bottom$/.test(a)}),e.orientation.y=i[0]||\"auto\";else;if(e.defaultViewDate){var j=e.defaultViewDate.year||(new Date).getFullYear(),k=e.defaultViewDate.month||0,l=e.defaultViewDate.day||1;e.defaultViewDate=c(j,k,l)}else e.defaultViewDate=d()},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(d=b,e=a[f][1]):3===a[f].length&&(d=a[f][1],e=a[f][2]),c.on(e,d)},_unapplyEvents:function(a){for(var c,d,e,f=0;f<a.length;f++)c=a[f][0],2===a[f].length?(e=b,d=a[f][1]):3===a[f].length&&(e=a[f][1],d=a[f][2]),c.off(d,e)},_buildEvents:function(){var b={keyup:a.proxy(function(b){-1===a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this),paste:a.proxy(this.paste,this)};this.o.showOnFocus===!0&&(b.focus=a.proxy(this.show,this)),this.isInput?this._events=[[this.element,b]]:this.component&&this.hasInput?this._events=[[this.inputField,b],[this.component,{click:a.proxy(this.show,this)}]]:this._events=[[this.element,{click:a.proxy(this.show,this),keydown:a.proxy(this.keydown,this)}]],this._events.push([this.element,\"*\",{blur:a.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:a.proxy(function(a){this._focused_from=a.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{\"changeYear changeMonth\":a.proxy(function(a){this.update(a.date)},this)}]),this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,this)}],[a(document),{mousedown:a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,c){var d=c||this.dates.get(-1),e=this._utc_to_local(d);this.element.trigger({type:b,date:e,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):\"string\"==typeof a&&(b=a,a=this.dates.length-1),b=b||this.o.format;var c=this.dates.get(a);return r.formatDate(c,b,this.o.language)},this)})},show:function(){return this.inputField.prop(\"disabled\")||this.inputField.prop(\"readonly\")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger(\"show\"),(window.navigator.msMaxTouchPoints||\"ontouchstart\"in document)&&this.o.disableTouchKeyboard&&a(this.element).blur(),this)},hide:function(){return this.isInline||!this.picker.is(\":visible\")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger(\"hide\"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(b){var c;if(b.originalEvent.clipboardData&&b.originalEvent.clipboardData.types&&-1!==a.inArray(\"text/plain\",b.originalEvent.clipboardData.types))c=b.originalEvent.clipboardData.getData(\"text/plain\");else{if(!window.clipboardData)return;c=window.clipboardData.getData(\"Text\")}this.setDate(c),this.update(),b.preventDefault()},_utc_to_local:function(a){return a&&new Date(a.getTime()+6e4*a.getTimezoneOffset())},_local_to_utc:function(a){return a&&new Date(a.getTime()-6e4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var a=this.dates.get(-1);return\"undefined\"!=typeof a?new Date(a):null},clearDates:function(){this.inputField&&this.inputField.val(\"\"),this.update(),this._trigger(\"changeDate\"),this.o.autoclose&&this.hide()},setDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,b),this._trigger(\"changeDate\"),this.setValue(),this},setUTCDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,a.map(b,this._utc_to_local)),this._trigger(\"changeDate\"),this.setValue(),this},setDate:f(\"setDates\"),setUTCDate:f(\"setUTCDates\"),remove:f(\"destroy\"),setValue:function(){var a=this.getFormattedDate();return this.inputField.val(a),this},getFormattedDate:function(c){c===b&&(c=this.o.format);var d=this.o.language;return a.map(this.dates,function(a){return r.formatDate(a,c,d)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(a){return this._process_options({startDate:a}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(a){return this._process_options({endDate:a}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(a){return this._process_options({daysOfWeekDisabled:a}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(a){return this._process_options({daysOfWeekHighlighted:a}),this.update(),this},setDatesDisabled:function(a){this._process_options({datesDisabled:a}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var b=this.picker.outerWidth(),c=this.picker.outerHeight(),d=10,e=a(this.o.container),f=e.width(),g=\"body\"===this.o.container?a(document).scrollTop():e.scrollTop(),h=e.offset(),i=[];this.element.parents().each(function(){var b=a(this).css(\"z-index\");\"auto\"!==b&&0!==b&&i.push(parseInt(b))});var j=Math.max.apply(Math,i)+this.o.zIndexOffset,k=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),m=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),n=k.left-h.left,o=k.top-h.top;\"body\"!==this.o.container&&(o+=g),this.picker.removeClass(\"datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left\"),\"auto\"!==this.o.orientation.x?(this.picker.addClass(\"datepicker-orient-\"+this.o.orientation.x),\"right\"===this.o.orientation.x&&(n-=b-m)):k.left<0?(this.picker.addClass(\"datepicker-orient-left\"),n-=k.left-d):n+b>f?(this.picker.addClass(\"datepicker-orient-right\"),n+=m-b):this.picker.addClass(\"datepicker-orient-left\");var p,q=this.o.orientation.y;if(\"auto\"===q&&(p=-g+o-c,q=0>p?\"bottom\":\"top\"),this.picker.addClass(\"datepicker-orient-\"+q),\"top\"===q?o-=c+parseInt(this.picker.css(\"padding-top\")):o+=l,this.o.rtl){var r=f-(n+m);this.picker.css({top:o,right:r,zIndex:j})}else this.picker.css({top:o,left:n,zIndex:j});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var b=this.dates.copy(),c=[],d=!1;return arguments.length?(a.each(arguments,a.proxy(function(a,b){b instanceof Date&&(b=this._local_to_utc(b)),c.push(b)},this)),d=!0):(c=this.isInput?this.element.val():this.element.data(\"date\")||this.inputField.val(),c=c&&this.o.multidate?c.split(this.o.multidateSeparator):[c],delete this.element.data().date),c=a.map(c,a.proxy(function(a){return r.parseDate(a,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),c=a.grep(c,a.proxy(function(a){return!this.dateWithinRange(a)||!a},this),!0),this.dates.replace(c),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,d?this.setValue():c.length&&String(b)!==String(this.dates)&&this._trigger(\"changeDate\"),!this.dates.length&&b.length&&this._trigger(\"clearDate\"),this.fill(),this.element.change(),this},fillDow:function(){var b=this.o.weekStart,c=\"<tr>\";for(this.o.calendarWeeks&&(this.picker.find(\".datepicker-days .datepicker-switch\").attr(\"colspan\",function(a,b){return parseInt(b)+1}),c+='<th class=\"cw\">&#160;</th>');b<this.o.weekStart+7;)c+='<th class=\"dow',a.inArray(b,this.o.daysOfWeekDisabled)>-1&&(c+=\" disabled\"),c+='\">'+q[this.o.language].daysMin[b++%7]+\"</th>\";c+=\"</tr>\",this.picker.find(\".datepicker-days thead\").append(c)},fillMonths:function(){for(var a=this._utc_to_local(this.viewDate),b=\"\",c=0;12>c;){var d=a&&a.getMonth()===c?\" focused\":\"\";b+='<span class=\"month'+d+'\">'+q[this.o.language].monthsShort[c++]+\"</span>\"}this.picker.find(\".datepicker-months td\").html(b)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range,this.fill()},getClassNames:function(b){var c=[],d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),f=new Date;return b.getUTCFullYear()<d||b.getUTCFullYear()===d&&b.getUTCMonth()<e?c.push(\"old\"):(b.getUTCFullYear()>d||b.getUTCFullYear()===d&&b.getUTCMonth()>e)&&c.push(\"new\"),this.focusDate&&b.valueOf()===this.focusDate.valueOf()&&c.push(\"focused\"),this.o.todayHighlight&&b.getUTCFullYear()===f.getFullYear()&&b.getUTCMonth()===f.getMonth()&&b.getUTCDate()===f.getDate()&&c.push(\"today\"),-1!==this.dates.contains(b)&&c.push(\"active\"),this.dateWithinRange(b)||c.push(\"disabled\"),this.dateIsDisabled(b)&&c.push(\"disabled\",\"disabled-date\"),-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekHighlighted)&&c.push(\"highlighted\"),this.range&&(b>this.range[0]&&b<this.range[this.range.length-1]&&c.push(\"range\"),-1!==a.inArray(b.valueOf(),this.range)&&c.push(\"selected\"),b.valueOf()===this.range[0]&&c.push(\"range-start\"),b.valueOf()===this.range[this.range.length-1]&&c.push(\"range-end\")),c},_fill_yearsView:function(c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u;for(k=\"\",l=this.picker.find(c),m=parseInt(g/e,10)*e,o=parseInt(h/f,10)*f,p=parseInt(i/f,10)*f,n=a.map(this.dates,function(a){return parseInt(a.getUTCFullYear()/f,10)*f}),l.find(\".datepicker-switch\").text(m+\"-\"+(m+9*f)),q=m-f,r=-1;11>r;r+=1)s=[d],t=null,-1===r?s.push(\"old\"):10===r&&s.push(\"new\"),-1!==a.inArray(q,n)&&s.push(\"active\"),(o>q||q>p)&&s.push(\"disabled\"),q===this.viewDate.getFullYear()&&s.push(\"focused\"),j!==a.noop&&(u=j(new Date(q,0,1)),u===b?u={}:\"boolean\"==typeof u?u={enabled:u}:\"string\"==typeof u&&(u={classes:u}),u.enabled===!1&&s.push(\"disabled\"),u.classes&&(s=s.concat(u.classes.split(/\\s+/))),u.tooltip&&(t=u.tooltip)),k+='<span class=\"'+s.join(\" \")+'\"'+(t?' title=\"'+t+'\"':\"\")+\">\"+q+\"</span>\",q+=f;l.find(\"td\").html(k)},fill:function(){var d,e,f=new Date(this.viewDate),g=f.getUTCFullYear(),h=f.getUTCMonth(),i=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),j=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),k=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,m=q[this.o.language].today||q.en.today||\"\",n=q[this.o.language].clear||q.en.clear||\"\",o=q[this.o.language].titleFormat||q.en.titleFormat;if(!isNaN(g)&&!isNaN(h)){this.picker.find(\".datepicker-days .datepicker-switch\").text(r.formatDate(f,o,this.o.language)),this.picker.find(\"tfoot .today\").text(m).toggle(this.o.todayBtn!==!1),this.picker.find(\"tfoot .clear\").text(n).toggle(this.o.clearBtn!==!1),this.picker.find(\"thead .datepicker-title\").text(this.o.title).toggle(\"\"!==this.o.title),this.updateNavArrows(),this.fillMonths();var p=c(g,h-1,28),s=r.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(s),p.setUTCDate(s-(p.getUTCDay()-this.o.weekStart+7)%7);var t=new Date(p);p.getUTCFullYear()<100&&t.setUTCFullYear(p.getUTCFullYear()),t.setUTCDate(t.getUTCDate()+42),t=t.valueOf();for(var u,v=[];p.valueOf()<t;){if(p.getUTCDay()===this.o.weekStart&&(v.push(\"<tr>\"),this.o.calendarWeeks)){var w=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),x=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),y=new Date(Number(y=c(x.getUTCFullYear(),0,1))+(11-y.getUTCDay())%7*864e5),z=(x-y)/864e5/7+1;v.push('<td class=\"cw\">'+z+\"</td>\")}u=this.getClassNames(p),u.push(\"day\"),this.o.beforeShowDay!==a.noop&&(e=this.o.beforeShowDay(this._utc_to_local(p)),e===b?e={}:\"boolean\"==typeof e?e={enabled:e}:\"string\"==typeof e&&(e={classes:e}),e.enabled===!1&&u.push(\"disabled\"),e.classes&&(u=u.concat(e.classes.split(/\\s+/))),e.tooltip&&(d=e.tooltip)),u=a.isFunction(a.uniqueSort)?a.uniqueSort(u):a.unique(u),v.push('<td class=\"'+u.join(\" \")+'\"'+(d?' title=\"'+d+'\"':\"\")+\">\"+p.getUTCDate()+\"</td>\"),d=null,p.getUTCDay()===this.o.weekEnd&&v.push(\"</tr>\"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(\".datepicker-days tbody\").empty().append(v.join(\"\"));var A=q[this.o.language].monthsTitle||q.en.monthsTitle||\"Months\",B=this.picker.find(\".datepicker-months\").find(\".datepicker-switch\").text(this.o.maxViewMode<2?A:g).end().find(\"span\").removeClass(\"active\");if(a.each(this.dates,function(a,b){b.getUTCFullYear()===g&&B.eq(b.getUTCMonth()).addClass(\"active\")}),(i>g||g>k)&&B.addClass(\"disabled\"),g===i&&B.slice(0,j).addClass(\"disabled\"),g===k&&B.slice(l+1).addClass(\"disabled\"),this.o.beforeShowMonth!==a.noop){var C=this;a.each(B,function(c,d){var e=new Date(g,c,1),f=C.o.beforeShowMonth(e);f===b?f={}:\"boolean\"==typeof f?f={enabled:f}:\"string\"==typeof f&&(f={classes:f}),f.enabled!==!1||a(d).hasClass(\"disabled\")||a(d).addClass(\"disabled\"),f.classes&&a(d).addClass(f.classes),f.tooltip&&a(d).prop(\"title\",f.tooltip)})}this._fill_yearsView(\".datepicker-years\",\"year\",10,1,g,i,k,this.o.beforeShowYear),this._fill_yearsView(\".datepicker-decades\",\"decade\",100,10,g,i,k,this.o.beforeShowDecade),this._fill_yearsView(\".datepicker-centuries\",\"century\",1e3,100,g,i,k,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),c=a.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&b<=this.o.startDate.getUTCFullYear()&&c<=this.o.startDate.getUTCMonth()?this.picker.find(\".prev\").css({visibility:\"hidden\"}):this.picker.find(\".prev\").css({visibility:\"visible\"}),this.o.endDate!==1/0&&b>=this.o.endDate.getUTCFullYear()&&c>=this.o.endDate.getUTCMonth()?this.picker.find(\".next\").css({visibility:\"hidden\"}):this.picker.find(\".next\").css({visibility:\"visible\"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-(1/0)&&b<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(\".prev\").css({visibility:\"hidden\"}):this.picker.find(\".prev\").css({visibility:\"visible\"}),this.o.endDate!==1/0&&b>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(\".next\").css({visibility:\"hidden\"}):this.picker.find(\".next\").css({visibility:\"visible\"})}}},click:function(b){b.preventDefault(),b.stopPropagation();var e,f,g,h,i,j,k;e=a(b.target),e.hasClass(\"datepicker-switch\")&&this.showMode(1);var l=e.closest(\".prev, .next\");l.length>0&&(f=r.modes[this.viewMode].navStep*(l.hasClass(\"prev\")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,f),this._trigger(\"changeMonth\",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,f),1===this.viewMode&&this._trigger(\"changeYear\",this.viewDate)),this.fill()),e.hasClass(\"today\")&&!e.hasClass(\"day\")&&(this.showMode(-2),this._setDate(d(),\"linked\"===this.o.todayBtn?null:\"view\")),e.hasClass(\"clear\")&&this.clearDates(),e.hasClass(\"disabled\")||(e.hasClass(\"day\")&&(g=parseInt(e.text(),10)||1,h=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),e.hasClass(\"old\")&&(0===i?(i=11,h-=1,j=!0,k=!0):(i-=1,j=!0)),e.hasClass(\"new\")&&(11===i?(i=0,h+=1,j=!0,k=!0):(i+=1,j=!0)),this._setDate(c(h,i,g)),k&&this._trigger(\"changeYear\",this.viewDate),j&&this._trigger(\"changeMonth\",this.viewDate)),e.hasClass(\"month\")&&(this.viewDate.setUTCDate(1),g=1,i=e.parent().find(\"span\").index(e),h=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i),this._trigger(\"changeMonth\",this.viewDate),1===this.o.minViewMode?(this._setDate(c(h,i,g)),this.showMode()):this.showMode(-1),this.fill()),(e.hasClass(\"year\")||e.hasClass(\"decade\")||e.hasClass(\"century\"))&&(this.viewDate.setUTCDate(1),g=1,i=0,h=parseInt(e.text(),10)||0,this.viewDate.setUTCFullYear(h),e.hasClass(\"year\")&&(this._trigger(\"changeYear\",this.viewDate),2===this.o.minViewMode&&this._setDate(c(h,i,g))),e.hasClass(\"decade\")&&(this._trigger(\"changeDecade\",this.viewDate),3===this.o.minViewMode&&this._setDate(c(h,i,g))),e.hasClass(\"century\")&&(this._trigger(\"changeCentury\",this.viewDate),4===this.o.minViewMode&&this._setDate(c(h,i,g))),this.showMode(-1),this.fill())),this.picker.is(\":visible\")&&this._focused_from&&a(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(a){var b=this.dates.contains(a);if(a||this.dates.clear(),-1!==b?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(b):this.o.multidate===!1?(this.dates.clear(),this.dates.push(a)):this.dates.push(a),\"number\"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&\"date\"!==b||this._toggle_multidate(a&&new Date(a)),b&&\"view\"!==b||(this.viewDate=a&&new Date(a)),this.fill(),this.setValue(),b&&\"view\"===b||this._trigger(\"changeDate\"),this.inputField&&this.inputField.change(),!this.o.autoclose||b&&\"date\"!==b||this.hide()},moveDay:function(a,b){var c=new Date(a);return c.setUTCDate(a.getUTCDate()+b),c},moveWeek:function(a,b){return this.moveDay(a,7*b)},moveMonth:function(a,b){if(!g(a))return this.o.defaultViewDate;if(!b)return a;var c,d,e=new Date(a.valueOf()),f=e.getUTCDate(),h=e.getUTCMonth(),i=Math.abs(b);if(b=b>0?1:-1,1===i)d=-1===b?function(){return e.getUTCMonth()===h}:function(){return e.getUTCMonth()!==c},c=h+b,e.setUTCMonth(c),(0>c||c>11)&&(c=(c+12)%12);else{for(var j=0;i>j;j++)e=this.moveMonth(e,b);c=e.getUTCMonth(),e.setUTCDate(f),d=function(){return c!==e.getUTCMonth()}}for(;d();)e.setUTCDate(--f),e.setUTCMonth(c);return e},moveYear:function(a,b){return this.moveMonth(a,12*b)},moveAvailableDate:function(a,b,c){do{if(a=this[c](a,b),!this.dateWithinRange(a))return!1;c=\"moveDay\"}while(this.dateIsDisabled(a));return a},weekOfDateIsDisabled:function(b){return-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(b){return this.weekOfDateIsDisabled(b)||a.grep(this.o.datesDisabled,function(a){return e(b,a)}).length>0},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(!this.picker.is(\":visible\"))return void((40===a.keyCode||27===a.keyCode)&&(this.show(),a.stopPropagation()));var b,c,d=!1,e=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),a.preventDefault(),a.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;b=37===a.keyCode||38===a.keyCode?-1:1,0===this.viewMode?a.ctrlKey?(c=this.moveAvailableDate(e,b,\"moveYear\"),c&&this._trigger(\"changeYear\",this.viewDate)):a.shiftKey?(c=this.moveAvailableDate(e,b,\"moveMonth\"),c&&this._trigger(\"changeMonth\",this.viewDate)):37===a.keyCode||39===a.keyCode?c=this.moveAvailableDate(e,b,\"moveDay\"):this.weekOfDateIsDisabled(e)||(c=this.moveAvailableDate(e,b,\"moveWeek\")):1===this.viewMode?((38===a.keyCode||40===a.keyCode)&&(b=4*b),c=this.moveAvailableDate(e,b,\"moveMonth\")):2===this.viewMode&&((38===a.keyCode||40===a.keyCode)&&(b=4*b),c=this.moveAvailableDate(e,b,\"moveYear\")),c&&(this.focusDate=this.viewDate=c,this.setValue(),this.fill(),a.preventDefault());break;case 13:if(!this.o.forceParse)break;e=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(e),d=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(\":visible\")&&(a.preventDefault(),a.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}d&&(this.dates.length?this._trigger(\"changeDate\"):this._trigger(\"clearDate\"),this.inputField&&this.inputField.change())},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+a))),this.picker.children(\"div\").hide().filter(\".datepicker-\"+r.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var l=function(b,c){a(b).data(\"datepicker\",this),this.element=a(b),this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a}),delete c.inputs,n.call(a(this.inputs),c).on(\"changeDate\",a.proxy(this.dateUpdated,this)),this.pickers=a.map(this.inputs,function(b){return a(b).data(\"datepicker\")}),this.updateDates()};l.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.getUTCDate()}),this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,c){c.setRange(b)})},dateUpdated:function(b){if(!this.updating){this.updating=!0;var c=a(b.target).data(\"datepicker\");if(\"undefined\"!=typeof c){var d=c.getUTCDate(),e=a.inArray(b.target,this.inputs),f=e-1,g=e+1,h=this.inputs.length;if(-1!==e){if(a.each(this.pickers,function(a,b){b.getUTCDate()||b.setUTCDate(d)}),d<this.dates[f])for(;f>=0&&d<this.dates[f];)this.pickers[f--].setUTCDate(d);else if(d>this.dates[g])for(;h>g&&d>this.dates[g];)this.pickers[g++].setUTCDate(d);this.updateDates(),delete this.updating}}}},remove:function(){a.map(this.pickers,function(a){a.remove()}),delete this.element.data().datepicker}};var m=a.fn.datepicker,n=function(c){var d=Array.apply(null,arguments);d.shift();var e;if(this.each(function(){var b=a(this),f=b.data(\"datepicker\"),g=\"object\"==typeof c&&c;if(!f){var j=h(this,\"date\"),m=a.extend({},o,j,g),n=i(m.language),p=a.extend({},o,n,j,g);b.hasClass(\"input-daterange\")||p.inputs?(a.extend(p,{inputs:p.inputs||b.find(\"input\").toArray()}),f=new l(this,p)):f=new k(this,p),b.data(\"datepicker\",f)}\"string\"==typeof c&&\"function\"==typeof f[c]&&(e=f[c].apply(f,d))}),e===b||e instanceof k||e instanceof l)return this;if(this.length>1)throw new Error(\"Using only allowed for the collection of a single element (\"+c+\" function)\");return e};a.fn.datepicker=n;var o=a.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:a.noop,beforeShowMonth:a.noop,beforeShowYear:a.noop,beforeShowDecade:a.noop,beforeShowCentury:a.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:\"mm/dd/yyyy\",keyboardNavigation:!0,language:\"en\",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:\",\",orientation:\"auto\",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:\"body\",immediateUpdates:!1,title:\"\",templates:{leftArrow:\"&laquo;\",rightArrow:\"&raquo;\"}},p=a.fn.datepicker.locale_opts=[\"format\",\"rtl\",\"weekStart\"];a.fn.datepicker.Constructor=k;var q=a.fn.datepicker.dates={en:{days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],daysShort:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],daysMin:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],monthsShort:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],today:\"Today\",clear:\"Clear\",titleFormat:\"MM yyyy\"}},r={modes:[{clsName:\"days\",navFnc:\"Month\",navStep:1},{clsName:\"months\",navFnc:\"FullYear\",navStep:1},{clsName:\"years\",navFnc:\"FullYear\",navStep:10},{clsName:\"decades\",navFnc:\"FullDecade\",navStep:100},{clsName:\"centuries\",navFnc:\"FullCentury\",navStep:1e3}],isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,r.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\\/:-@\\u5e74\\u6708\\u65e5\\[-`{-~\\t\\n\\r]+/g,parseFormat:function(a){if(\"function\"==typeof a.toValue&&\"function\"==typeof a.toDisplay)return a;var b=a.replace(this.validParts,\"\\x00\").split(\"\\x00\"),c=a.match(this.validParts);if(!b||!b.length||!c||0===c.length)throw new Error(\"Invalid date format.\");return{separators:b,parts:c}},parseDate:function(e,f,g,h){function i(a,b){return b===!0&&(b=10),100>a&&(a+=2e3,a>(new Date).getFullYear()+b&&(a-=100)),a}function j(){var a=this.slice(0,s[n].length),b=s[n].slice(0,a.length);return a.toLowerCase()===b.toLowerCase()}if(!e)return b;if(e instanceof Date)return e;if(\"string\"==typeof f&&(f=r.parseFormat(f)),f.toValue)return f.toValue(e,f,g);var l,m,n,o,p=/([\\-+]\\d+)([dmwy])/,s=e.match(/([\\-+]\\d+)([dmwy])/g),t={d:\"moveDay\",m:\"moveMonth\",w:\"moveWeek\",y:\"moveYear\"},u={yesterday:\"-1d\",today:\"+0d\",tomorrow:\"+1d\"};if(/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(e)){for(e=new Date,n=0;n<s.length;n++)l=p.exec(s[n]),m=parseInt(l[1]),o=t[l[2]],e=k.prototype[o](e,m);return c(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}if(\"undefined\"!=typeof u[e]&&(e=u[e],s=e.match(/([\\-+]\\d+)([dmwy])/g),/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(e))){for(e=new Date,n=0;n<s.length;n++)l=p.exec(s[n]),m=parseInt(l[1]),o=t[l[2]],e=k.prototype[o](e,m);return c(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}s=e&&e.match(this.nonpunctuation)||[],e=new Date;var v,w,x={},y=[\"yyyy\",\"yy\",\"M\",\"MM\",\"m\",\"mm\",\"d\",\"dd\"],z={yyyy:function(a,b){return a.setUTCFullYear(h?i(b,h):b)},yy:function(a,b){return a.setUTCFullYear(h?i(b,h):b)},m:function(a,b){if(isNaN(a))return a;for(b-=1;0>b;)b+=12;for(b%=12,a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};z.M=z.MM=z.mm=z.m,z.dd=z.d,e=d();var A=f.parts.slice();if(s.length!==A.length&&(A=a(A).filter(function(b,c){return-1!==a.inArray(c,y)}).toArray()),s.length===A.length){var B;for(n=0,B=A.length;B>n;n++){if(v=parseInt(s[n],10),l=A[n],isNaN(v))switch(l){case\"MM\":w=a(q[g].months).filter(j),v=a.inArray(w[0],q[g].months)+1;break;case\"M\":w=a(q[g].monthsShort).filter(j),v=a.inArray(w[0],q[g].monthsShort)+1}x[l]=v}var C,D;for(n=0;n<y.length;n++)D=y[n],D in x&&!isNaN(x[D])&&(C=new Date(e),z[D](C,x[D]),isNaN(C)||(e=C))}return e},formatDate:function(b,c,d){if(!b)return\"\";if(\"string\"==typeof c&&(c=r.parseFormat(c)),\nc.toDisplay)return c.toDisplay(b,c,d);var e={d:b.getUTCDate(),D:q[d].daysShort[b.getUTCDay()],DD:q[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:q[d].monthsShort[b.getUTCMonth()],MM:q[d].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};e.dd=(e.d<10?\"0\":\"\")+e.d,e.mm=(e.m<10?\"0\":\"\")+e.m,b=[];for(var f=a.extend([],c.separators),g=0,h=c.parts.length;h>=g;g++)f.length&&b.push(f.shift()),b.push(e[c.parts[g]]);return b.join(\"\")},headTemplate:'<thead><tr><th colspan=\"7\" class=\"datepicker-title\"></th></tr><tr><th class=\"prev\">&laquo;</th><th colspan=\"5\" class=\"datepicker-switch\"></th><th class=\"next\">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan=\"7\"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr><tr><th colspan=\"7\" class=\"clear\"></th></tr></tfoot>'};r.template='<div class=\"datepicker\"><div class=\"datepicker-days\"><table class=\"table-condensed\">'+r.headTemplate+\"<tbody></tbody>\"+r.footTemplate+'</table></div><div class=\"datepicker-months\"><table class=\"table-condensed\">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class=\"datepicker-years\"><table class=\"table-condensed\">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class=\"datepicker-decades\"><table class=\"table-condensed\">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class=\"datepicker-centuries\"><table class=\"table-condensed\">'+r.headTemplate+r.contTemplate+r.footTemplate+\"</table></div></div>\",a.fn.datepicker.DPGlobal=r,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=m,this},a.fn.datepicker.version=\"1.6.4\",a(document).on(\"focus.datepicker.data-api click.datepicker.data-api\",'[data-provide=\"datepicker\"]',function(b){var c=a(this);c.data(\"datepicker\")||(b.preventDefault(),n.call(c,\"show\"))}),a(function(){n.call(a('[data-provide=\"datepicker-inline\"]'))})});"]}